(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){feather.replace(),function(){const e=$("body"),t=$(".logo-img"),n=$(".dark-logo-img");1==localStorage.setContrast&&(e.addClass("dark-theme"),$(".btn__contrast").addClass("btn-active")),$(".btn__contrast").on("click",(function(o){o.preventDefault(),o.stopPropagation(),$(this).hasClass("btn-active")?($(this).removeClass("btn-active"),localStorage.setContrast=0,e.removeClass("dark-theme")):($(this).addClass("btn-active"),localStorage.setContrast=1,e.addClass("dark-theme"),n.length||t.css("display","block"))}))}(),function(){function e(){const e=localStorage.toolbarFont;1==e?$("html").addClass("font-plus"):-1==e?$("html").addClass("font-minus"):($("html").removeClass("font-plus"),$("html").removeClass("font-minus"),localStorage.toolbarFont=0)}e(),$(".btn__plus").on("click",(function(t){t.preventDefault(),t.stopPropagation();let n=parseInt(localStorage.getItem("toolbarFont"))+1;n>0&&(n=1),localStorage.toolbarFont=n,e()})),$(".btn__minus").on("click",(function(t){t.preventDefault(),t.stopPropagation();let n=parseInt(localStorage.getItem("toolbarFont"))-1;n<0&&(n=-1),localStorage.toolbarFont=n,e()}))}(),function(){const e=$(".qe-sidebar"),t=$(".btn__sidebar");function n(){t.addClass("btn-active"),e.removeClass("inactive"),$(".qe-toolbar svg.feather.feather-menu").replaceWith(feather.icons.x.toSvg()),localStorage.setSidebar=1}function o(){t.removeClass("btn-active"),e.addClass("inactive"),$(".qe-toolbar svg.feather.feather-x").replaceWith(feather.icons.menu.toSvg()),localStorage.setSidebar=0}1==localStorage.setSidebar&&e.hasClass("persistent")&&$(window).width()>1340&&n(),$(document).on("click",".btn__sidebar",(function(t){t.preventDefault(),t.stopPropagation(),e.hasClass("inactive")?n():o(),window.innerWidth<=1340&&$(document.body).on("click",(function(e){$(t.target).is(".sidebar *")||(o(),$("body").off("click"))}))}))}(),$("#search-icon").on("click",(function(e){$("#search-input").hasClass("search-open")?$("#search-input").closest("form").trigger("submit"):($("#search-input").addClass("search-open").focus(),$(this).css("pointer-events","none"))})),$("#search-input").on("focusout",(function(){$(this).val()||($(this).removeClass("search-open"),$("#search-icon").css("pointer-events","auto"))})),document.querySelectorAll("form.bd-search").forEach((e=>{const t=e.querySelector(".search-button__kbd-shortcut");t&&t.remove()})),$(".btn__fullscreen").on("click",(function(){event.preventDefault(),event.stopPropagation(),$(this).toggleClass("btn-active"),document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()})),function(){$(".btn__top").on("click",(function(e){e.preventDefault(),e.stopPropagation(),$("html, body").animate({scrollTop:0},"slow")}));const e=document.getElementsByClassName("margin"),t=document.querySelectorAll("figure.margin-caption figcaption"),n=document.getElementsByClassName("qe-page__toc-footer")[0];if(!n)return;const o=Array.from(e).concat(Array.from(t)),a=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting?n.style.display="none":n.style.display=""}))}),{root:null,rootMargin:"0px 0px -80% 0px"});Array.from(o).forEach((e=>a.observe(e)))}(),function(){const e=(e,t)=>{for(let n of e)if(n.startsWith("tag_collapse-")){const e=n.indexOf("-"),o=n.substring(e+1);if(o&&!isNaN(o))return t.style.height=parseInt(o)+.5+"em",!0}return!1},t=document.querySelectorAll("div.cell[class*='tag_collapse']");for(let n=0;n<t.length;n++){const o=t[n].querySelectorAll(".highlight")[0];if(o){e(t[n].classList,o);const a=document.createElement("div");a.className="collapse-toggle-bar",a.innerHTML='<span class="collapse-indicator">Expand</span>',o.parentNode.insertBefore(a,o.nextSibling)}}const n=document.querySelectorAll("div.cell[class*='tag_collapse'] .collapse-toggle-bar");for(let t=0;t<n.length;t++)n[t].addEventListener("click",(function(t){t.preventDefault();const n=this.closest("div.cell[class*='tag_collapse']"),o=n.querySelector(".highlight"),a=this.querySelector(".collapse-indicator");n.classList.contains("expanded")?(n.classList.remove("expanded"),a.textContent="Expand",e(n.classList,o),setTimeout((()=>{n.scrollIntoView({behavior:"smooth",block:"end"})}),50)):(n.classList.add("expanded"),a.textContent="Collapse",o.style.height="auto")}))}(),function(){const e=document.querySelectorAll(".qe-page__content table");for(let t=0;t<e.length;t++){const n=document.createElement("div");n.classList.add("table-container"),e[t].parentNode.insertBefore(n,e[t]),n.appendChild(e[t])}}(),function(){if(document.getElementById("downloadButton")){const e=document.getElementById("downloadPDFModal");e.style.display="block",tippy("#downloadButton",{content:e,theme:"light-border",animation:"shift-away",inertia:!0,duration:[200,200],arrow:!0,delay:[200,200],interactive:!0,trigger:"click"})}if(document.getElementById("settingsButton")){const e=document.getElementById("settingsModal");e.style.display="block",tippy("#settingsButton",{content:e,theme:"light-border",animation:"shift-away",inertia:!0,duration:[200,200],arrow:!0,delay:[200,200],interactive:!0,trigger:"click"})}tippy("[data-tippy-content]",{touch:!1})}(),function(){window.onChangeListener=()=>{let e=document.getElementById("launcher-private-input").value;if($(this.event.currentTarget)[0].getAttribute("id").indexOf("private")>-1){e.includes("http")||e.includes("https")||(e="http://"+e);const t=document.getElementsByClassName("page")[0].getAttribute("id"),n=e+"/user-redirect/git-pull?repo="+document.getElementById("launcher-private-input").dataset.repourl+"&urlpath="+document.getElementById("launcher-private-input").dataset.urlpath+t+".ipynb";launchButton.getElementsByTagName("a")[0].setAttribute("href",n)}else{const e=document.getElementById("launcher-public-input").value;document.getElementById("launchButton").getElementsByTagName("a")[0].setAttribute("href",e)}}}(),function(){const e=document.getElementsByClassName("qe-page__header-authors")[0];if(!e)return;const t=e.getAttribute("font-size"),n=document.querySelector(".main-index h1");if(!n)return;const o=document.createElement("p");o.setAttribute("id","qe-page-author-links"),o.setAttribute("style",t?`font-size: ${t}px`:""),e&&(e.querySelectorAll("a").length&&""!==e.querySelectorAll("a")[0].innerText||""!==e.innerText)&&(o.innerHTML=e.innerHTML),n.insertAdjacentElement("afterend",o)}(),function(){const e=document.getElementById("changelog-toggle"),t=document.getElementById("changelog-content");e&&t&&(e.addEventListener("click",(function(n){n.preventDefault(),"true"===e.getAttribute("aria-expanded")?(e.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),t.classList.remove("expanded")):(e.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"),t.classList.add("expanded"))})),document.addEventListener("keydown",(function(n){"Escape"===n.key&&"true"===e.getAttribute("aria-expanded")&&(e.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),t.classList.remove("expanded"))})))}(),document.querySelectorAll(".cell_output").forEach((e=>{const t=e.querySelectorAll(".output.stderr");if(0===t.length)return;const n=document.createElement("div");n.className="stderr-collapsible-wrapper";const o=document.createElement("button");o.className="stderr-toggle-button",o.setAttribute("aria-expanded","false"),o.setAttribute("aria-label","Show code warnings"),o.innerHTML='<span class="stderr-icon">⚠</span> <span class="stderr-label">Code warnings</span> <span class="stderr-chevron">▶</span>';const a=document.createElement("div");a.className="stderr-content",a.setAttribute("aria-hidden","true"),t.forEach((e=>{a.appendChild(e.cloneNode(!0)),e.remove()})),n.appendChild(o),n.appendChild(a),e.insertBefore(n,e.firstChild),o.addEventListener("click",(function(e){e.preventDefault(),"true"===o.getAttribute("aria-expanded")?(o.setAttribute("aria-expanded","false"),o.setAttribute("aria-label","Show code warnings"),a.setAttribute("aria-hidden","true"),a.classList.remove("expanded")):(o.setAttribute("aria-expanded","true"),o.setAttribute("aria-label","Hide code warnings"),a.setAttribute("aria-hidden","false"),a.classList.add("expanded"))}))})),function(){const e=document.querySelector(".inner.sticky");if(!e)return;const t=e.querySelector("#bd-toc-nav");if(!t)return;const n="true"===e.dataset.autoexpand,o=t.querySelectorAll("a");if(0===o.length)return;const a=[],l=t.querySelector("ul"),s=l?Array.from(l.children).filter((e=>"LI"===e.tagName)):[];if(o.forEach((e=>{const t=e.getAttribute("href");if(t&&t.startsWith("#")){const n=t.substring(1),o=document.getElementById(n);if(o){const t=e.parentElement;let l=null,r=t;for(;r;){if(s.includes(r)){l=r;break}r=r.parentElement,r&&(r=r.closest("li"))}a.push({id:n,element:o,link:e,listItem:t,topLevelItem:l})}}})),0===a.length)return;const r=document.querySelector(".back-to-top-btn");function i(){const e=window.scrollY||document.documentElement.scrollTop,o=window.innerHeight;let l=null;r&&(e>300?r.classList.add("visible"):r.classList.remove("visible"));for(let t=0;t<a.length;t++){const n=a[t];if(!(n.element.getBoundingClientRect().top+e<=e+120))break;l=n}if(e+o>=document.documentElement.scrollHeight-50&&(l=a[a.length-1]),a.forEach((e=>{e.listItem.classList.remove("active"),e.link.classList.remove("active")})),n&&t.querySelectorAll("li").forEach((e=>{e.classList.remove("expanded")})),l){if(!n&&l.topLevelItem){const e=l.topLevelItem.querySelector(":scope > a");l.topLevelItem.classList.add("active"),e&&e.classList.add("active")}else l.listItem.classList.add("active"),l.link.classList.add("active");if(n){l.listItem.querySelector(":scope > ul")&&l.listItem.classList.add("expanded");let e=l.listItem.parentElement;for(;e;){let t=e.parentElement;if(!t||"LI"!==t.tagName)break;t.classList.add("expanded"),e=t.parentElement}}}}let c=!1;window.addEventListener("scroll",(function(){c||(window.requestAnimationFrame((()=>{i(),c=!1})),c=!0)}),{passive:!0}),i(),function(e){e.querySelectorAll("a[href^='#']").forEach((e=>{const t=document.createElement("span");t.className="toc-copy-link",t.setAttribute("role","button"),t.setAttribute("aria-label","Copy link to section"),t.setAttribute("title","Copy link to section"),t.innerHTML='<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>',t.addEventListener("click",(n=>{n.preventDefault(),n.stopPropagation();const o=e.getAttribute("href"),a=window.location.origin+window.location.pathname+o;navigator.clipboard.writeText(a).then((()=>{t.classList.add("copied");const e=t.getAttribute("title");t.setAttribute("title","Copied!"),setTimeout((()=>{t.classList.remove("copied"),t.setAttribute("title",e)}),1500)}))})),e.appendChild(t)}))}(t)}()}))})();
//# sourceMappingURL=quantecon-book-theme.js.map