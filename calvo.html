

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>42. Time Inconsistency of Ramsey Plans &#8212; Advanced Quantitative Economics with Python</title>
    <script src="https://unpkg.com/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@6.3.1/dist/tippy-bundle.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    
        <script>
            MathJax = {
            loader: {load: ['[tex]/boldsymbol', '[tex]/textmacros']},
            tex: {
                packages: {'[+]': ['boldsymbol', 'textmacros']},
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                processEscapes: true,
                macros: {
                    "argmax" : "arg\\,max",
                    "argmin" : "arg\\,min",
                    "col"    : "col",
                    "Span"   :  "span",
                    "epsilon": "\\varepsilon",
                    "EE": "\\mathbb{E}",
                    "PP": "\\mathbb{P}",
                    "RR": "\\mathbb{R}",
                    "NN": "\\mathbb{N}",
                    "ZZ": "\\mathbb{Z}",
                    "aA": "\\mathcal{A}",
                    "bB": "\\mathcal{B}",
                    "cC": "\\mathcal{C}",
                    "dD": "\\mathcal{D}",
                    "eE": "\\mathcal{E}",
                    "fF": "\\mathcal{F}",
                    "gG": "\\mathcal{G}",
                    "hH": "\\mathcal{H}",
                }
            },
            svg: {
                fontCache: 'global',
                scale: 0.92,
                displayAlign: "center",
            },
            };
        </script>
    
    
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/quantecon-book-theme.css?digest=bd0785fbb14d8d2bd4d9ae501d79ed8d3bc089ec" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.5ea377869091fd0449014c60fc090103.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>


    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/scripts/quantecon-book-theme.js?digest=d6d86bce9979111653c4c495e33499e1796e172a"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-KZLV7PM9LL"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-KZLV7PM9LL');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"argmax": "arg\\,max", "argmin": "arg\\,min", "col": "col", "Span": "span", "epsilon": "\\varepsilon", "EE": "\\mathbb{E}", "PP": "\\mathbb{P}", "RR": "\\mathbb{R}", "NN": "\\mathbb{N}", "ZZ": "\\mathbb{Z}", "aA": "\\mathcal{A}", "bB": "\\mathcal{B}", "cC": "\\mathcal{C}", "dD": "\\mathcal{D}", "eE": "\\mathcal{E}", "fF": "\\mathcal{F}", "gG": "\\mathcal{G}", "hH": "\\mathcal{H}"}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'calvo';</script>
    <link rel="canonical" href="https://python-advanced.quantecon.org/calvo.html" />
    <link rel="shortcut icon" href="_static/lectures-favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="43. Sustainable Plans for a Calvo Model" href="calvo_abreu.html" />
    <link rel="prev" title="41. Machine Learning a Ramsey Plan" href="calvo_machine_learn.html" />

<!-- Normal Meta Tags -->
<meta name="author" context="Thomas J. Sargent &amp; John Stachurski" />
<meta name="keywords" content="Python, QuantEcon, Quantitative Economics, Economics, Sloan, Alfred P. Sloan Foundation, Tom J. Sargent, John Stachurski" />
<meta name="description" content=This website presents a set of lectures on advanced quantitative economic modeling, designed and written by Thomas J. Sargent and John Stachurski. />

<!-- Twitter tags -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@quantecon" />
<meta name="twitter:title" content="Time Inconsistency of Ramsey Plans"/>
<meta name="twitter:description" content="This website presents a set of lectures on advanced quantitative economic modeling, designed and written by Thomas J. Sargent and John Stachurski.">
<meta name="twitter:creator" content="@quantecon">
<meta name="twitter:image" content="https://assets.quantecon.org/img/qe-twitter-logo.png">

<!-- Opengraph tags -->
<meta property="og:title" content="Time Inconsistency of Ramsey Plans" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://python-advanced.quantecon.org/calvo.html" />
<meta property="og:image" content="https://assets.quantecon.org/img/qe-og-logo.png" />
<meta property="og:description" content="This website presents a set of lectures on advanced quantitative economic modeling, designed and written by Thomas J. Sargent and John Stachurski." />
<meta property="og:site_name" content="Advanced Quantitative Economics with Python" />
<meta name="theme-color" content="#ffffff" />

  </head>
<body>


    <span id="top"></span>

    <div class="qe-wrapper">

        <div class="qe-main">

            <div class="qe-page" id=calvo>

                <div class="qe-page__toc">

                    <div class="inner">

                        
                        <div class="qe-page__toc-header">
                            On this page
                        </div>


                        <nav id="bd-toc-nav" class="qe-page__toc-nav">
                            <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">42.1. Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-components">42.2. Model Components</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#friedmans-optimal-rate-of-deflation">42.3. Friedman’s Optimal Rate of Deflation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calvos-distortion">42.4. Calvo’s Distortion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#structure">42.5. Structure</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#intertemporal-aspects">42.5.1. Intertemporal Aspects</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#three-timing-protocols">42.6. Three Timing Protocols</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#note-on-dynamic-programming-squared">42.7. Note on Dynamic Programming Squared</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-ramsey-planner">42.8. A Ramsey Planner</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subproblem-1">42.8.1. Subproblem 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subproblem-2">42.8.2. Subproblem 2</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#representation-of-ramsey-plan">42.9. Representation of Ramsey Plan</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multiple-roles-of-theta-t">42.10. Multiple roles of <span class="math notranslate nohighlight">\(\theta_t\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#time-inconsistency">42.11. Time inconsistency</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#constrained-to-constant-growth-rate-ramsey-plan">42.12. Constrained-to-Constant-Growth-Rate Ramsey Plan</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#markov-perfect-governments">42.13. Markov Perfect Governments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#outcomes-under-three-timing-protocols">42.14. Outcomes under Three Timing Protocols</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ramsey-planners-value-function">42.15. Ramsey Planner’s Value Function</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#time-inconsistency-of-ramsey-plan">42.15.1. Time Inconsistency of Ramsey Plan</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#implausibility-of-ramsey-plan">42.15.2. Implausibility of Ramsey Plan</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparison-of-equilibrium-values">42.16. Comparison of Equilibrium Values</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#digression-on-timeless-perspective">42.17. Digression on Timeless Perspective</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ramsey-plan-strikes-back">42.17.1. Ramsey Plan Strikes Back</a></li>
</ul>
</li>
</ul>
                            <p class="logo">
                                
                                    
                                    <a href=https://quantecon.org><img src="_static/qe-logo-large.png" class="logo logo-img" alt="logo"></a>
                                    
                                    
                                
                            </p>

                            <p class="powered">Powered by <a href="https://jupyterbook.org/">Jupyter Book</a></p>

                        </nav>

                        <div class="qe-page__toc-footer">
                            
                            
                            <p><a href="#top"><strong>Back to top</strong></a></p>
                        </div>

                    </div>

                </div>

                <div class="qe-page__header">

                    <div class="qe-page__header-copy">

                        <p class="qe-page__header-heading"><a href="intro.html">Advanced Quantitative Economics with Python</a></p>

                        <p class="qe-page__header-subheading">Time Inconsistency of Ramsey Plans</p>

                    </div>
                    <!-- length 2, since its a string and empty dict has length 2 - {} -->
                        <p class="qe-page__header-authors" font-size="18">
                            
                                
                                    <a href="http://www.tomsargent.com/" target="_blank"><span>Thomas J. Sargent</span></a>
                                
                            
                                
                                    and <a href="https://johnstachurski.net/" target="_blank"><span>John Stachurski</span></a>
                                
                            
                        </p>


                </div> <!-- .page__header -->



                
                <main class="qe-page__content" role="main">
                    
                    <div>
                        
  <div id="qe-notebook-header" align="right" style="text-align:right;">
        <a href="https://quantecon.org/" title="quantecon.org">
                <img style="width:250px;display:inline;" width="250px" src="https://assets.quantecon.org/img/qe-menubar-logo.svg" alt="QuantEcon">
        </a>
</div><section class="tex2jax_ignore mathjax_ignore" id="time-inconsistency-of-ramsey-plans">
<h1><span class="section-number">42. </span>Time Inconsistency of Ramsey Plans<a class="headerlink" href="#time-inconsistency-of-ramsey-plans" title="Permalink to this heading">#</a></h1>
<p id="index-0">In addition to what’s in Anaconda, this lecture will need the following libraries:</p>
<div class="cell tag_hide-output docutils container">
<div class="cell_input above-output-prompt docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>quantecon
</pre></div>
</div>
</div>
<details class="hide below-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell output</span>
<span class="expanded">Hide code cell output</span>
</summary>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: quantecon in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (0.7.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: numba&gt;=0.49.0 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from quantecon) (0.60.0)
Requirement already satisfied: numpy&gt;=1.17.0 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from quantecon) (1.26.4)
Requirement already satisfied: requests in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from quantecon) (2.32.3)
Requirement already satisfied: scipy&gt;=1.5.0 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from quantecon) (1.13.1)
Requirement already satisfied: sympy in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from quantecon) (1.13.2)
Requirement already satisfied: llvmlite&lt;0.44,&gt;=0.43.0dev0 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from numba&gt;=0.49.0-&gt;quantecon) (0.43.0)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from requests-&gt;quantecon) (3.3.2)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from requests-&gt;quantecon) (3.7)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from requests-&gt;quantecon) (2.2.3)
Requirement already satisfied: certifi&gt;=2017.4.17 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from requests-&gt;quantecon) (2024.8.30)
Requirement already satisfied: mpmath&lt;1.4,&gt;=1.1.0 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from sympy-&gt;quantecon) (1.3.0)
</pre></div>
</div>
</div>
</details>
</div>
<section id="overview">
<h2><span class="section-number">42.1. </span>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">#</a></h2>
<p>This lecture describes several  linear-quadratic versions of a model that Guillermo Calvo <span id="id1">[<a class="reference internal" href="zreferences.html#id140" title="Guillermo A. Calvo. On the time consistency of optimal policy in a monetary economy. Econometrica, 46(6):1411-1428, 1978.">Calvo, 1978</a>]</span> used to illustrate the <strong>time inconsistency</strong> of optimal government
plans.</p>
<p>Like Chang <span id="id2">[<a class="reference internal" href="zreferences.html#id216" title="Roberto Chang. Credible monetary policy in an infinite horizon model: recursive approaches. Journal of Economic Theory, 81(2):431–461, 1998.">Chang, 1998</a>]</span>, we use these models as  laboratories in which to explore consequences of  timing protocols for government decision making.</p>
<p>The models focus attention on intertemporal tradeoffs between</p>
<ul class="simple">
<li><p>welfare benefits that anticipations of future  deflation generate  by decreasing  costs of holding real money balances and thereby increasing a representative agent’s <em>liquidity</em>, as measured by his or her holdings of real money balances, and</p></li>
<li><p>costs associated with the  distorting taxes that the government must levy in order to acquire the paper money that it will  destroy  in order to generate anticipated deflation</p></li>
</ul>
<p>The models feature</p>
<ul class="simple">
<li><p>rational expectations</p></li>
<li><p>several explicit timing protocols</p></li>
<li><p>costly government actions at all dates <span class="math notranslate nohighlight">\(t \geq 1\)</span> that increase household utilities at dates before <span class="math notranslate nohighlight">\(t\)</span></p></li>
<li><p>sets of Bellman equations, one set for each timing protocol</p>
<ul>
<li><p>for example, in a timing protocol used to pose a <strong>Ramsey plan</strong>, a government chooses an infinite sequence of money supply growth rates once and for all at time <span class="math notranslate nohighlight">\(0\)</span>.</p></li>
<li><p>in this timing protocol, there are  two value functions and associated Bellman equations, one that expresses a representative  private expectation of future inflation as a function of current and future government actions, another that describes  the value function of a  Ramsey planner</p></li>
<li><p>in other timing protocols, other Bellman equations and associated  value functions will appear</p></li>
</ul>
</li>
</ul>
<p>A theme of this lecture is that  timing protocols affect  outcomes.</p>
<p>We’ll use ideas from  papers by Cagan <span id="id3">[<a class="reference internal" href="zreferences.html#id79" title="Philip Cagan. The monetary dynamics of hyperinflation. In Milton Friedman, editor, Studies in the Quantity Theory of Money, pages 25–117. University of Chicago Press, Chicago, 1956.">Cagan, 1956</a>]</span>, Calvo <span id="id4">[<a class="reference internal" href="zreferences.html#id140" title="Guillermo A. Calvo. On the time consistency of optimal policy in a monetary economy. Econometrica, 46(6):1411-1428, 1978.">Calvo, 1978</a>]</span>, and  Chang <span id="id5">[<a class="reference internal" href="zreferences.html#id216" title="Roberto Chang. Credible monetary policy in an infinite horizon model: recursive approaches. Journal of Economic Theory, 81(2):431–461, 1998.">Chang, 1998</a>]</span> as
well as from chapter 19 of <span id="id6">[<a class="reference internal" href="zreferences.html#id174" title="L Ljungqvist and T J Sargent. Recursive Macroeconomic Theory. MIT Press, 4 edition, 2018.">Ljungqvist and Sargent, 2018</a>]</span>.</p>
<p>In addition, we’ll use ideas from linear-quadratic dynamic programming
described in  <a class="reference external" href="https://python-intro.quantecon.org/lqcontrol.html">Linear Quadratic Control</a> as applied to Ramsey problems in <a class="reference internal" href="dyn_stack.html"><span class="doc">Stackelberg plans</span></a>.</p>
<p>We  specify model fundamentals  in  ways that allow us to use
linear-quadratic discounted dynamic programming to compute an optimal government
plan under each of our timing protocols.</p>
<p>A sister lecture <a class="reference internal" href="calvo_machine_learn.html"><span class="doc">Machine Learning a Ramsey Plan</span></a> studies some of the same models but does not use dynamic programming.</p>
<p>Instead it uses a  <strong>machine learning</strong> approach that does not explicitly recognize the recursive structure structure of the Ramsey problem that Chang <span id="id7">[<a class="reference internal" href="zreferences.html#id216" title="Roberto Chang. Credible monetary policy in an infinite horizon model: recursive approaches. Journal of Economic Theory, 81(2):431–461, 1998.">Chang, 1998</a>]</span> saw and that we exploit in this lecture.</p>
<p>In addition to what’s in Anaconda, this lecture will use  the following libraries:</p>
<div class="cell tag_hide-output docutils container">
<div class="cell_input above-output-prompt docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>quantecon
</pre></div>
</div>
</div>
<details class="hide below-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell output</span>
<span class="expanded">Hide code cell output</span>
</summary>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: quantecon in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (0.7.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: numba&gt;=0.49.0 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from quantecon) (0.60.0)
Requirement already satisfied: numpy&gt;=1.17.0 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from quantecon) (1.26.4)
Requirement already satisfied: requests in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from quantecon) (2.32.3)
Requirement already satisfied: scipy&gt;=1.5.0 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from quantecon) (1.13.1)
Requirement already satisfied: sympy in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from quantecon) (1.13.2)
Requirement already satisfied: llvmlite&lt;0.44,&gt;=0.43.0dev0 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from numba&gt;=0.49.0-&gt;quantecon) (0.43.0)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from requests-&gt;quantecon) (3.3.2)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from requests-&gt;quantecon) (3.7)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from requests-&gt;quantecon) (2.2.3)
Requirement already satisfied: certifi&gt;=2017.4.17 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from requests-&gt;quantecon) (2024.8.30)
Requirement already satisfied: mpmath&lt;1.4,&gt;=1.1.0 in /home/runner/miniconda3/envs/quantecon/lib/python3.12/site-packages (from sympy-&gt;quantecon) (1.3.0)
</pre></div>
</div>
</div>
</details>
</div>
<p>We’ll start with some imports:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">quantecon</span> <span class="kn">import</span> <span class="n">LQ</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.ticker</span> <span class="kn">import</span> <span class="n">FormatStrFormatter</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">Math</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="model-components">
<h2><span class="section-number">42.2. </span>Model Components<a class="headerlink" href="#model-components" title="Permalink to this heading">#</a></h2>
<p>There is no uncertainty.</p>
<p>Let:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(p_t\)</span> be the log of the price level</p></li>
<li><p><span class="math notranslate nohighlight">\(m_t\)</span> be the log of nominal money balances</p></li>
<li><p><span class="math notranslate nohighlight">\(\theta_t = p_{t+1} - p_t\)</span> be the net rate of inflation between <span class="math notranslate nohighlight">\(t\)</span> and <span class="math notranslate nohighlight">\(t+1\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\mu_t = m_{t+1} - m_t\)</span> be the net rate of growth of nominal balances</p></li>
</ul>
<p>The demand for real balances is governed by a discrete time version of Sargent and Wallace’s <span id="id8">[<a class="reference internal" href="zreferences.html#id3" title="Thomas J Sargent and Neil Wallace. The stability of models of money and growth with perfect foresight. Econometrica: Journal of the Econometric Society, pages 1043–1048, 1973.">Sargent and Wallace, 1973</a>]</span> perfect foresight version of a Cagan <span id="id9">[<a class="reference internal" href="zreferences.html#id79" title="Philip Cagan. The monetary dynamics of hyperinflation. In Milton Friedman, editor, Studies in the Quantity Theory of Money, pages 25–117. University of Chicago Press, Chicago, 1956.">Cagan, 1956</a>]</span> demand function for real balances:</p>
<div class="math notranslate nohighlight" id="equation-eq-old1">
<span class="eqno">(42.1)<a class="headerlink" href="#equation-eq-old1" title="Permalink to this equation">#</a></span>\[m_t - p_t = -\alpha(p_{t+1} - p_t) \: , \: \alpha &gt; 0\]</div>
<p>for <span class="math notranslate nohighlight">\(t \geq 0\)</span>.</p>
<p>Equation <a class="reference internal" href="#equation-eq-old1">(42.1)</a> asserts that the demand for real balances is inversely
related to the public’s expected rate of inflation, which  equals
the actual rate of inflation because there is no uncertainty here.</p>
<p>(When there is no uncertainty, an assumption of <strong>rational expectations</strong>  becomes equivalent to  <strong>perfect foresight</strong>).</p>
<p>(<span id="id10">[<a class="reference internal" href="zreferences.html#id80" title="Thomas J Sargent. The Demand for Money During Hyperinflations under Rational Expectations: I. International Economic Review, 18(1):59-82, February 1977.">Sargent, 1977</a>]</span> presents  a rational expectations version of the model when there is uncertainty.)</p>
<p>Subtracting the demand function <a class="reference internal" href="#equation-eq-old1">(42.1)</a> at time <span class="math notranslate nohighlight">\(t\)</span> from the demand
function at <span class="math notranslate nohighlight">\(t+1\)</span> gives:</p>
<div class="math notranslate nohighlight">
\[
\mu_t - \theta_t = -\alpha \theta_{t+1} + \alpha \theta_t
\]</div>
<p>or</p>
<div class="math notranslate nohighlight" id="equation-eq-old2">
<span class="eqno">(42.2)<a class="headerlink" href="#equation-eq-old2" title="Permalink to this equation">#</a></span>\[\theta_t = \frac{\alpha}{1+\alpha} \theta_{t+1} + \frac{1}{1+\alpha} \mu_t\]</div>
<p>Because <span class="math notranslate nohighlight">\(\alpha &gt; 0\)</span>,  <span class="math notranslate nohighlight">\(0 &lt; \frac{\alpha}{1+\alpha} &lt; 1\)</span>.</p>
<p><strong>Definition:</strong> For  scalar <span class="math notranslate nohighlight">\(b_t\)</span>, let <span class="math notranslate nohighlight">\(L^2\)</span> be the space of sequences
<span class="math notranslate nohighlight">\(\{b_t\}_{t=0}^\infty\)</span> satisfying</p>
<div class="math notranslate nohighlight">
\[
\sum_{t=0}^\infty  b_t^2 &lt; +\infty
\]</div>
<p>We say that a sequence that belongs to <span class="math notranslate nohighlight">\(L^2\)</span>   is <strong>square summable</strong>.</p>
<p>When we assume that the sequence <span class="math notranslate nohighlight">\(\vec \mu = \{\mu_t\}_{t=0}^\infty\)</span> is square summable and we require that the sequence <span class="math notranslate nohighlight">\(\vec \theta = \{\theta_t\}_{t=0}^\infty\)</span> is square summable,
the linear difference equation <a class="reference internal" href="#equation-eq-old2">(42.2)</a> can be solved forward to get:</p>
<div class="math notranslate nohighlight" id="equation-eq-old3">
<span class="eqno">(42.3)<a class="headerlink" href="#equation-eq-old3" title="Permalink to this equation">#</a></span>\[\theta_t = \frac{1}{1+\alpha} \sum_{j=0}^\infty \left(\frac{\alpha}{1+\alpha}\right)^j \mu_{t+j}\]</div>
<p><strong>Insight:</strong> In the spirit of Chang <span id="id11">[<a class="reference internal" href="zreferences.html#id216" title="Roberto Chang. Credible monetary policy in an infinite horizon model: recursive approaches. Journal of Economic Theory, 81(2):431–461, 1998.">Chang, 1998</a>]</span>,  equations <a class="reference internal" href="#equation-eq-old1">(42.1)</a> and <a class="reference internal" href="#equation-eq-old3">(42.3)</a> show that <span class="math notranslate nohighlight">\(\theta_t\)</span> intermediates
how choices of <span class="math notranslate nohighlight">\(\mu_{t+j}, \ j=0, 1, \ldots\)</span> impinge on time <span class="math notranslate nohighlight">\(t\)</span>
real balances <span class="math notranslate nohighlight">\(m_t - p_t = -\alpha \theta_t\)</span>.</p>
<p>An equivalence class of continuation money growth sequences <span class="math notranslate nohighlight">\(\{\mu_{t+j}\}_{j=0}^\infty\)</span> deliver the same <span class="math notranslate nohighlight">\(\theta_t\)</span>.</p>
<p>We shall use this insight to help us simplify our analysis of alternative  government policy problems.</p>
<p>That future rates of money creation influence earlier rates of inflation
makes  timing protocols matter for modeling optimal government policies.</p>
<p>When <span class="math notranslate nohighlight">\(\vec \theta = \{\theta_t\}_{t=0}^\infty\)</span> is square summable, we can  represent restriction <a class="reference internal" href="#equation-eq-old3">(42.3)</a>  as</p>
<div class="math notranslate nohighlight" id="equation-eq-old4a">
<span class="eqno">(42.4)<a class="headerlink" href="#equation-eq-old4a" title="Permalink to this equation">#</a></span>\[\begin{split}
\begin{bmatrix}
  1 \\
  \theta_{t+1}
\end{bmatrix} =
\begin{bmatrix}
  1 &amp; 0 \\
  0 &amp; \frac{1+\alpha}{\alpha}
\end{bmatrix}
\begin{bmatrix}
  1 \\
  \theta_{t}
\end{bmatrix}  +
\begin{bmatrix}
  0 \\
  -\frac{1}{\alpha}
\end{bmatrix}
\mu_t
\end{split}\]</div>
<p>or</p>
<div class="math notranslate nohighlight" id="equation-eq-old4">
<span class="eqno">(42.5)<a class="headerlink" href="#equation-eq-old4" title="Permalink to this equation">#</a></span>\[x_{t+1} = A x_t + B \mu_t\]</div>
<p>Even though <span class="math notranslate nohighlight">\(\theta_0\)</span> is to be determined by our  model and so is not an initial condition,
as it ordinarily would be in the state-space model described in our lecture on  <a class="reference external" href="https://python-intro.quantecon.org/lqcontrol.html">Linear Quadratic Control</a>, we nevertheless write the model in the state-space form <a class="reference internal" href="#equation-eq-old4">(42.5)</a>.</p>
<p>We use  form <a class="reference internal" href="#equation-eq-old4">(42.5)</a> because we want to apply an approach described in  our lecture on <a class="reference internal" href="dyn_stack.html"><span class="doc">Stackelberg plans</span></a>.</p>
<p>Notice that <span class="math notranslate nohighlight">\(\frac{1+\alpha}{\alpha} &gt; 1\)</span> is an eigenvalue of transition matrix <span class="math notranslate nohighlight">\(A\)</span> that threatens to destabilize the state-space system.</p>
<p>The Ramsey planner will design   a decision rule for <span class="math notranslate nohighlight">\(\mu_t\)</span> that  stabilizes  the system.</p>
<p>The  government  values  a representative household’s utility of real balances at time <span class="math notranslate nohighlight">\(t\)</span> according to the utility function</p>
<div class="math notranslate nohighlight" id="equation-eq-old5">
<span class="eqno">(42.6)<a class="headerlink" href="#equation-eq-old5" title="Permalink to this equation">#</a></span>\[U(m_t - p_t) = u_0 + u_1 (m_t - p_t) - \frac{u_2}{2} (m_t - p_t)^2, \quad u_0 &gt; 0, u_1 &gt; 0, u_2 &gt; 0\]</div>
<p>The money demand function <a class="reference internal" href="#equation-eq-old1">(42.1)</a> and the utility function <a class="reference internal" href="#equation-eq-old5">(42.6)</a> imply that</p>
<div class="math notranslate nohighlight" id="equation-eq-old5a">
<span class="eqno">(42.7)<a class="headerlink" href="#equation-eq-old5a" title="Permalink to this equation">#</a></span>\[
U(-\alpha \theta_t) = u_0 + u_1 (-\alpha \theta_t) -\frac{u_2}{2}(-\alpha \theta_t)^2 . 
\]</div>
</section>
<section id="friedmans-optimal-rate-of-deflation">
<h2><span class="section-number">42.3. </span>Friedman’s Optimal Rate of Deflation<a class="headerlink" href="#friedmans-optimal-rate-of-deflation" title="Permalink to this heading">#</a></h2>
<p>According to <a class="reference internal" href="#equation-eq-old5a">(42.7)</a>, the <code class="docutils literal notranslate"><span class="pre">bliss</span> <span class="pre">level</span></code> of real balances is  <span class="math notranslate nohighlight">\(\frac{u_1}{u_2}\)</span> and the inflation rate that attains it is</p>
<div class="math notranslate nohighlight" id="equation-eq-friedmantheta">
<span class="eqno">(42.8)<a class="headerlink" href="#equation-eq-friedmantheta" title="Permalink to this equation">#</a></span>\[
\theta_t = \theta^* = -\frac{u_1}{u_2 \alpha}
\]</div>
<p>Milton Friedman recommended that  the government  withdraw and destroy money at a rate
that implies an inflation rate given by  <a class="reference internal" href="#equation-eq-friedmantheta">(42.8)</a>.</p>
<p>In our setting, that could be accomplished by setting</p>
<div class="math notranslate nohighlight" id="equation-eq-friedmanrule">
<span class="eqno">(42.9)<a class="headerlink" href="#equation-eq-friedmanrule" title="Permalink to this equation">#</a></span>\[
\mu_t = \mu^* = \theta^* , t \geq 0
\]</div>
<p>where <span class="math notranslate nohighlight">\(\theta^*\)</span> is given by equation <a class="reference internal" href="#equation-eq-friedmantheta">(42.8)</a>.</p>
<p>To deduce this recommendation, Milton Friedman assumed that the taxes that government must impose in order to acquire money at rate <span class="math notranslate nohighlight">\(\mu_t\)</span> do not distort economic decisions.</p>
<ul class="simple">
<li><p>for example, perhaps the government can impose lump sum taxes that distort no decisions by private agents</p></li>
</ul>
</section>
<section id="calvos-distortion">
<h2><span class="section-number">42.4. </span>Calvo’s Distortion<a class="headerlink" href="#calvos-distortion" title="Permalink to this heading">#</a></h2>
<p>The starting point of Calvo <span id="id12">[<a class="reference internal" href="zreferences.html#id140" title="Guillermo A. Calvo. On the time consistency of optimal policy in a monetary economy. Econometrica, 46(6):1411-1428, 1978.">Calvo, 1978</a>]</span> and  Chang <span id="id13">[<a class="reference internal" href="zreferences.html#id216" title="Roberto Chang. Credible monetary policy in an infinite horizon model: recursive approaches. Journal of Economic Theory, 81(2):431–461, 1998.">Chang, 1998</a>]</span>
is that such lump sum taxes are not available.</p>
<p>Instead, the government acquires money by levying taxes that distort decisions and thereby impose costs on the representative consumer.</p>
<p>In the models of  Calvo <span id="id14">[<a class="reference internal" href="zreferences.html#id140" title="Guillermo A. Calvo. On the time consistency of optimal policy in a monetary economy. Econometrica, 46(6):1411-1428, 1978.">Calvo, 1978</a>]</span> and  Chang <span id="id15">[<a class="reference internal" href="zreferences.html#id216" title="Roberto Chang. Credible monetary policy in an infinite horizon model: recursive approaches. Journal of Economic Theory, 81(2):431–461, 1998.">Chang, 1998</a>]</span>, the government takes those costs tax-distortion costs into account.</p>
<p>It balances the costs of imposing the distorting taxes needed to acquire the money that it destroys in order to generate deflation against the benefits that expected deflation generates by raising the representative households’ holdings of real balances.</p>
<p>Let’s see how the government does that in our version of the models of  Calvo <span id="id16">[<a class="reference internal" href="zreferences.html#id140" title="Guillermo A. Calvo. On the time consistency of optimal policy in a monetary economy. Econometrica, 46(6):1411-1428, 1978.">Calvo, 1978</a>]</span> and  Chang <span id="id17">[<a class="reference internal" href="zreferences.html#id216" title="Roberto Chang. Credible monetary policy in an infinite horizon model: recursive approaches. Journal of Economic Theory, 81(2):431–461, 1998.">Chang, 1998</a>]</span>.</p>
<p>Via equation <a class="reference internal" href="#equation-eq-old3">(42.3)</a>, a government plan
<span class="math notranslate nohighlight">\(\vec \mu = \{\mu_t \}_{t=0}^\infty\)</span> leads to a
sequence of inflation outcomes
<span class="math notranslate nohighlight">\(\vec \theta = \{ \theta_t \}_{t=0}^\infty\)</span>.</p>
<p>We assume that the government incurs  social costs <span class="math notranslate nohighlight">\(\frac{c}{2} \mu_t^2\)</span> at
<span class="math notranslate nohighlight">\(t\)</span> when it  changes the stock of nominal money
balances at rate <span class="math notranslate nohighlight">\(\mu_t\)</span>.</p>
<p>Therefore, the one-period welfare function of a benevolent government
is:</p>
<div class="math notranslate nohighlight" id="equation-eq-old6">
<span class="eqno">(42.10)<a class="headerlink" href="#equation-eq-old6" title="Permalink to this equation">#</a></span>\[\begin{split}-s(\theta_t, \mu_t) \equiv - r(x_t,\mu_t) = \begin{bmatrix} 1 \\ \theta_t \end{bmatrix}' \begin{bmatrix} u_0 &amp; -\frac{u_1 \alpha}{2} \\ -\frac{u_1 \alpha}{2} &amp; -\frac{u_2 \alpha^2}{2} \end{bmatrix} \begin{bmatrix} 1 \\ \theta_t \end{bmatrix} - \frac{c}{2} \mu_t^2 =  - x_t'Rx_t - Q \mu_t^2\end{split}\]</div>
<p>The  government’s time <span class="math notranslate nohighlight">\(0\)</span> value is</p>
<div class="math notranslate nohighlight" id="equation-eq-old7">
<span class="eqno">(42.11)<a class="headerlink" href="#equation-eq-old7" title="Permalink to this equation">#</a></span>\[v_0 = - \sum_{t=0}^\infty \beta^t r(x_t,\mu_t) = - \sum_{t=0}^\infty \beta^t s(\theta_t,\mu_t)\]</div>
<p>where <span class="math notranslate nohighlight">\(\beta \in (0,1)\)</span> is a discount factor.</p>
<p>The government’s time <span class="math notranslate nohighlight">\(t\)</span> continuation value <span class="math notranslate nohighlight">\(v_t\)</span> is</p>
<div class="math notranslate nohighlight">
\[
v_t = - \sum_{j=0}^\infty \beta^j s(\theta_{t+j}, \mu_{t+j}) .
\]</div>
<p>We can represent  dependence of  <span class="math notranslate nohighlight">\(v_0\)</span> on <span class="math notranslate nohighlight">\((\vec \theta, \vec \mu)\)</span> recursively via the  difference equation</p>
<div class="math notranslate nohighlight" id="equation-eq-old8">
<span class="eqno">(42.12)<a class="headerlink" href="#equation-eq-old8" title="Permalink to this equation">#</a></span>\[v_t = - s(\theta_t, \mu_t) + \beta v_{t+1}\]</div>
<p>It is useful to evaluate <a class="reference internal" href="#equation-eq-old8">(42.12)</a> under a time-invariant money growth rate <span class="math notranslate nohighlight">\(\mu_t = \bar \mu\)</span>
that according to equation <a class="reference internal" href="#equation-eq-old3">(42.3)</a> would bring forth a constant inflation rate equal to <span class="math notranslate nohighlight">\(\bar \mu\)</span>.</p>
<p>Under that policy,</p>
<div class="math notranslate nohighlight" id="equation-eq-barvdef">
<span class="eqno">(42.13)<a class="headerlink" href="#equation-eq-barvdef" title="Permalink to this equation">#</a></span>\[
v_t = V(\bar \mu) = - \frac{s(\bar \mu, \bar \mu)}{1-\beta} 
\]</div>
<p>for all <span class="math notranslate nohighlight">\(t \geq 0\)</span>.</p>
<p>Values of <span class="math notranslate nohighlight">\(V(\bar \mu)\)</span> computed according to formula <a class="reference internal" href="#equation-eq-barvdef">(42.13)</a> for three different  values of <span class="math notranslate nohighlight">\(\bar \mu\)</span> will play important roles below.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(V(\mu^{MP})\)</span> is the value of attained by the government in a <strong>Markov perfect equilibrium</strong></p></li>
<li><p><span class="math notranslate nohighlight">\(V(\mu^R_\infty)\)</span> is the  value that  a continuation Ramsey planner attains at  <span class="math notranslate nohighlight">\(t \rightarrow +\infty\)</span></p>
<ul>
<li><p>We shall discover that <span class="math notranslate nohighlight">\(V(\mu^R_\infty)\)</span> is the worst continuation value attained along a Ramsey plan</p></li>
</ul>
</li>
<li><p><span class="math notranslate nohighlight">\(V(\mu^{CR})\)</span> is the value of attained by the government in a <strong>constrained to constant <span class="math notranslate nohighlight">\(\mu\)</span> equilibrium</strong></p></li>
</ul>
</section>
<section id="structure">
<h2><span class="section-number">42.5. </span>Structure<a class="headerlink" href="#structure" title="Permalink to this heading">#</a></h2>
<p>The following structure is induced by a representative  agent’s
behavior as summarized by the demand function for money <a class="reference internal" href="#equation-eq-old1">(42.1)</a> that leads to equation <a class="reference internal" href="#equation-eq-old3">(42.3)</a>, which  tells how future settings of <span class="math notranslate nohighlight">\(\mu\)</span> affect the current value of <span class="math notranslate nohighlight">\(\theta\)</span>.</p>
<p>Equation <a class="reference internal" href="#equation-eq-old3">(42.3)</a> maps a <strong>policy</strong> sequence of money growth rates
<span class="math notranslate nohighlight">\(\vec \mu =\{\mu_t\}_{t=0}^\infty \in L^2\)</span>  into an inflation sequence
<span class="math notranslate nohighlight">\(\vec \theta = \{\theta_t\}_{t=0}^\infty \in L^2\)</span>.</p>
<p>These, in turn, induce a discounted value to a government sequence
<span class="math notranslate nohighlight">\(\vec v = \{v_t\}_{t=0}^\infty \in L^2\)</span> that satisfies the
recursion</p>
<div class="math notranslate nohighlight" id="equation-eq-new100">
<span class="eqno">(42.14)<a class="headerlink" href="#equation-eq-new100" title="Permalink to this equation">#</a></span>\[
v_t = - s(\theta_t,\mu_t) + \beta v_{t+1}
\]</div>
<p>where we have called <span class="math notranslate nohighlight">\(s(\theta_t, \mu_t) = r(x_t, \mu_t)\)</span>, as
in <a class="reference internal" href="#equation-eq-old7">(42.11)</a>.</p>
<p>Thus,  a triple of sequences
<span class="math notranslate nohighlight">\((\vec \mu, \vec \theta, \vec v)\)</span> depends on  a
sequence <span class="math notranslate nohighlight">\(\vec \mu \in L^2\)</span>.</p>
<p>At this point <span class="math notranslate nohighlight">\(\vec \mu \in L^2\)</span> is an arbitrary exogenous policy.</p>
<p>A theory of government
decisions will  make <span class="math notranslate nohighlight">\(\vec \mu\)</span> endogenous, i.e., a theoretical <em>output</em> instead of an <em>input</em>.</p>
<section id="intertemporal-aspects">
<h3><span class="section-number">42.5.1. </span>Intertemporal Aspects<a class="headerlink" href="#intertemporal-aspects" title="Permalink to this heading">#</a></h3>
<p>Criterion function <a class="reference internal" href="#equation-eq-old7">(42.11)</a> and the constraint system <a class="reference internal" href="#equation-eq-old4">(42.5)</a> exhibit the following
structure:</p>
<ul class="simple">
<li><p>Setting the money growth rate <span class="math notranslate nohighlight">\(\mu_t \neq 0\)</span> imposes costs
<span class="math notranslate nohighlight">\(\frac{c}{2} \mu_t^2\)</span> at time <span class="math notranslate nohighlight">\(t\)</span> and at no other times;
but</p></li>
<li><p>The money growth rate <span class="math notranslate nohighlight">\(\mu_t\)</span> affects the government’s  one-period utilities at all dates
<span class="math notranslate nohighlight">\(s = 0, 1, \ldots, t\)</span>.</p></li>
</ul>
<p>This structure  sets the stage for the emergence of a time-inconsistent
optimal government plan  under a <strong>Ramsey</strong>   timing protocol</p>
<ul class="simple">
<li><p>it is  also called a <strong>Stackelberg</strong> timing protocol.</p></li>
</ul>
<p>We’ll  study outcomes under a Ramsey timing protocol.</p>
<p>We’ll also study outcomes under other timing protocols.</p>
</section>
</section>
<section id="three-timing-protocols">
<h2><span class="section-number">42.6. </span>Three Timing Protocols<a class="headerlink" href="#three-timing-protocols" title="Permalink to this heading">#</a></h2>
<p>We consider three  models of government policy making that  differ in</p>
<ul class="simple">
<li><p><em>what</em> a  policymaker chooses, either a sequence
<span class="math notranslate nohighlight">\(\vec \mu\)</span> or just   <span class="math notranslate nohighlight">\(\mu_t\)</span> in a single period <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><em>when</em> a  policymaker chooses, either once and for all at time <span class="math notranslate nohighlight">\(0\)</span>, or at some time or times  <span class="math notranslate nohighlight">\(t \geq 0\)</span>.</p></li>
<li><p>what a policymaker <em>assumes</em> about how its choice of <span class="math notranslate nohighlight">\(\mu_t\)</span>
affects the representative  agent’s expectations about earlier and later
inflation rates.</p></li>
</ul>
<p>In two of our models, a single policymaker  chooses a sequence
<span class="math notranslate nohighlight">\(\{\mu_t\}_{t=0}^\infty\)</span> once and for all, knowing  how
<span class="math notranslate nohighlight">\(\mu_t\)</span> affects household one-period utilities at dates <span class="math notranslate nohighlight">\(s = 0, 1, \ldots, t-1\)</span></p>
<ul class="simple">
<li><p>these two models  thus employ a  <strong>Ramsey</strong> or <strong>Stackelberg</strong> timing protocol.</p></li>
</ul>
<p>In a third  model, there is a sequence of policymakers, each of whom
sets <span class="math notranslate nohighlight">\(\mu_t\)</span> at one <span class="math notranslate nohighlight">\(t\)</span> only.</p>
<ul class="simple">
<li><p>a time <span class="math notranslate nohighlight">\(t\)</span>  policymaker cares only about <span class="math notranslate nohighlight">\(v_t\)</span> and  ignores  effects that its choice of <span class="math notranslate nohighlight">\(\mu_t\)</span> has on <span class="math notranslate nohighlight">\(v_s\)</span> at  dates <span class="math notranslate nohighlight">\(s = 0, 1, \ldots, t-1\)</span>.</p></li>
</ul>
<p>The three models differ with respect to timing protocols, constraints on
government choices, and government policymakers’ beliefs about how their
decisions affect the representative agent’s beliefs about future government
decisions.</p>
<p>The models are distinguished by their having  either</p>
<ul class="simple">
<li><p>A single Ramsey planner that chooses a sequence
<span class="math notranslate nohighlight">\(\{\mu_t\}_{t=0}^\infty\)</span> once and for all at time <span class="math notranslate nohighlight">\(0\)</span>; or</p></li>
<li><p>A single Ramsey planner that  chooses a sequence
<span class="math notranslate nohighlight">\(\{\mu_t\}_{t=0}^\infty\)</span> once and for all at time <span class="math notranslate nohighlight">\(0\)</span>
subject to the constraint that <span class="math notranslate nohighlight">\(\mu_t = \mu\)</span> for all
<span class="math notranslate nohighlight">\(t \geq 0\)</span>; or</p></li>
<li><p>A sequence of distinct  policymakers indexed by <span class="math notranslate nohighlight">\(t =0, 1, 2, \ldots\)</span></p>
<ul>
<li><p>a time <span class="math notranslate nohighlight">\(t\)</span> policymaker chooses <span class="math notranslate nohighlight">\(\mu_t\)</span> only and forecasts that future government decisions are unaffected by its choice.</p></li>
</ul>
</li>
</ul>
<p>The first model describes a <strong>Ramsey plan</strong> chosen by a <strong>Ramsey planner</strong></p>
<p>The second model describes a <strong>Ramsey plan</strong> chosen by a <em>Ramsey planner constrained to choose a time-invariant <span class="math notranslate nohighlight">\(\mu_t\)</span></em></p>
<p>The third model describes a <strong>Markov perfect equilibrium</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the  quantecon lecture <a class="reference internal" href="calvo_abreu.html"><span class="doc">Sustainable Plans for a Calvo Model</span></a>, we’ll study outcomes under another timing protocol in where there is a sequence of separate policymakers and  a time <span class="math notranslate nohighlight">\(t\)</span> policymaker chooses  only <span class="math notranslate nohighlight">\(\mu_t\)</span> but believes that its choice of <span class="math notranslate nohighlight">\(\mu_t\)</span>  shapes the representative agent’s beliefs about  future rates of money creation and inflation, and through them, future government actions.
This is a model of  a <strong>credible government policy</strong> also known as a <strong>sustainable plan</strong>.
The relationship between  outcomes in  the first (Ramsey) timing protocol and the <a class="reference internal" href="calvo_abreu.html"><span class="doc">Sustainable Plans for a Calvo Model</span></a> timing protocol and belief structure is the subject of a literature on <strong>sustainable</strong> or <strong>credible</strong> public policies (Chari and Kehoe <span id="id18">[<a class="reference internal" href="zreferences.html#id217" title="Varadarajan V Chari and Patrick J Kehoe. Sustainable plans. Journal of Political Economy, pages 783–802, 1990.">Chari and Kehoe, 1990</a>]</span>
<span id="id19">[<a class="reference internal" href="zreferences.html#id224" title="Nancy L Stokey. Reputation and time consistency. The American Economic Review, pages 134–139, 1989.">Stokey, 1989</a>]</span>, and Stokey <span id="id20">[<a class="reference internal" href="zreferences.html#id76" title="Nancy L. Stokey. Credible public policy. Journal of Economic Dynamics and Control, 15(4):627-656, October 1991.">Stokey, 1991</a>]</span>).</p>
</div>
</section>
<section id="note-on-dynamic-programming-squared">
<h2><span class="section-number">42.7. </span>Note on Dynamic Programming Squared<a class="headerlink" href="#note-on-dynamic-programming-squared" title="Permalink to this heading">#</a></h2>
<p>We’ll begin with the timing protocol associated with a Ramsey plan and deploy
an application of what we  nickname <strong>dynamic programming squared</strong>.</p>
<p>The nickname refers to the feature that a value satisfying one Bellman equation appears as an argument in a  value function associated with a  second Bellman equation.</p>
<p>Thus, our models have involved two Bellman equations:</p>
<ul class="simple">
<li><p>equation <a class="reference internal" href="#equation-eq-old1">(42.1)</a> expresses how <span class="math notranslate nohighlight">\(\theta_t\)</span> depends on <span class="math notranslate nohighlight">\(\mu_t\)</span>
and <span class="math notranslate nohighlight">\(\theta_{t+1}\)</span></p></li>
<li><p>equation <a class="reference internal" href="#equation-eq-old4">(42.5)</a> expresses how value <span class="math notranslate nohighlight">\(v_t\)</span> depends on
<span class="math notranslate nohighlight">\((\mu_t, \theta_t)\)</span> and <span class="math notranslate nohighlight">\(v_{t+1}\)</span></p></li>
</ul>
<p>A value <span class="math notranslate nohighlight">\(\theta\)</span> from one Bellman equation appears as an argument of a second Bellman equation for another value <span class="math notranslate nohighlight">\(v\)</span>.</p>
</section>
<section id="a-ramsey-planner">
<h2><span class="section-number">42.8. </span>A Ramsey Planner<a class="headerlink" href="#a-ramsey-planner" title="Permalink to this heading">#</a></h2>
<p>Here  we consider a Ramsey planner that  chooses
<span class="math notranslate nohighlight">\(\{\mu_t, \theta_t\}_{t=0}^\infty\)</span> to maximize <a class="reference internal" href="#equation-eq-old7">(42.11)</a>
subject to the law of motion <a class="reference internal" href="#equation-eq-old4">(42.5)</a>.</p>
<p>We can split this problem into two stages, as in the lecture  <a class="reference internal" href="dyn_stack.html"><span class="doc">Stackelberg plans</span></a> and  <span id="id21">[<a class="reference internal" href="zreferences.html#id174" title="L Ljungqvist and T J Sargent. Recursive Macroeconomic Theory. MIT Press, 4 edition, 2018.">Ljungqvist and Sargent, 2018</a>]</span> Chapter 19.</p>
<p>In the first stage, we take the initial inflation rate <span class="math notranslate nohighlight">\(\theta_0\)</span> as given
and solve what looks like an ordinary  LQ discounted dynamic programming problem.</p>
<p>In the second stage, we choose an optimal  initial inflation rate <span class="math notranslate nohighlight">\(\theta_0\)</span>.</p>
<p>Define a feasible set of
<span class="math notranslate nohighlight">\((\overrightarrow x_1, \overrightarrow \mu_0)\)</span> sequences, both of which must belong to <span class="math notranslate nohighlight">\(L^2\)</span>:</p>
<div class="math notranslate nohighlight">
\[
\Omega(x_0) = \left \lbrace ( \overrightarrow x_1, \overrightarrow \mu_0) : x_{t+1}
= A x_t + B \mu_t \: , \: \forall t \geq 0; (\vec x_1, \vec \mu_0) \in L^2 \times L^2 \right \rbrace
\]</div>
<section id="subproblem-1">
<h3><span class="section-number">42.8.1. </span>Subproblem 1<a class="headerlink" href="#subproblem-1" title="Permalink to this heading">#</a></h3>
<p>The value function</p>
<div class="math notranslate nohighlight" id="equation-eq-subprob1lq">
<span class="eqno">(42.15)<a class="headerlink" href="#equation-eq-subprob1lq" title="Permalink to this equation">#</a></span>\[
J(x_0) = \max_{(\overrightarrow x_1, \overrightarrow \mu_0) \in \Omega(x_0)}
- \sum_{t=0}^\infty \beta^t r(x_t,\mu_t)
\]</div>
<p>satisfies the Bellman equation</p>
<div class="math notranslate nohighlight">
\[
J(x) = \max_{\mu,x'}\{-r(x,\mu) + \beta J(x')\}
\]</div>
<p>subject to:</p>
<div class="math notranslate nohighlight">
\[
x' = Ax + B\mu
\]</div>
<p>As in the lecture <a class="reference internal" href="dyn_stack.html"><span class="doc">Stackelberg plans</span></a>, we can map this problem into a linear-quadratic control problem and deduce an optimal value function <span class="math notranslate nohighlight">\(J(x)\)</span>.</p>
<p>Guessing that <span class="math notranslate nohighlight">\(J(x) = - x'Px\)</span> and substituting into the Bellman
equation gives rise to the algebraic matrix Riccati equation:</p>
<div class="math notranslate nohighlight">
\[
P = R + \beta A'PA - \beta^2 A'PB(Q + \beta B'PB)^{-1} B'PA
\]</div>
<p>and an optimal decision rule</p>
<div class="math notranslate nohighlight">
\[
\mu_t = - F x_t
\]</div>
<p>where</p>
<div class="math notranslate nohighlight" id="equation-eq-formulaf">
<span class="eqno">(42.16)<a class="headerlink" href="#equation-eq-formulaf" title="Permalink to this equation">#</a></span>\[
F = \beta (Q + \beta B'PB)^{-1} B'PA
\]</div>
<p>The QuantEcon <a class="reference external" href="https://github.com/QuantEcon/QuantEcon.py/blob/master/quantecon/lqcontrol.py">LQ</a> class solves for <span class="math notranslate nohighlight">\(F\)</span> and <span class="math notranslate nohighlight">\(P\)</span> given inputs
<span class="math notranslate nohighlight">\(Q, R, A, B\)</span>, and <span class="math notranslate nohighlight">\(\beta\)</span>.</p>
<p>The value function for a (continuation) Ramsey planner is</p>
<div class="math notranslate nohighlight">
\[ v_t = - \begin{bmatrix} 1 &amp; \theta_t \end{bmatrix} \begin{bmatrix} P_{11} &amp; P_{12} \cr P_{21} &amp; P_{22} \end{bmatrix} \begin{bmatrix} 1 \cr \theta_t \end{bmatrix}
\]</div>
<p>or</p>
<div class="math notranslate nohighlight">
\[
v_t = - P_{11} - 2 P_{21}\theta_t - P_{22}\theta_t^2
\]</div>
<p>or</p>
<div class="math notranslate nohighlight" id="equation-eq-continuationvfn">
<span class="eqno">(42.17)<a class="headerlink" href="#equation-eq-continuationvfn" title="Permalink to this equation">#</a></span>\[ 
v_t = g_0 + g_1 \theta_t + g_2 \theta_t^2
\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[
g_0 = - P_{11}, \quad g_1 = - 2 P_{21}, \quad g_2 =  - P_{22}
\]</div>
<p>The Ramsey plan for setting <span class="math notranslate nohighlight">\(\mu_t\)</span> is</p>
<div class="math notranslate nohighlight">
\[ 
\mu_t = - \begin{bmatrix} F_1 &amp; F_2 \end{bmatrix} \begin{bmatrix} 1 \cr \theta_t \end{bmatrix}
\]</div>
<p>or</p>
<div class="math notranslate nohighlight" id="equation-eq-muramseyrule">
<span class="eqno">(42.18)<a class="headerlink" href="#equation-eq-muramseyrule" title="Permalink to this equation">#</a></span>\[ 
\mu_t = b_0 + b_1 \theta_t 
\]</div>
<p>where <span class="math notranslate nohighlight">\(b_0 = -F_1, b_1 = - F_2\)</span> and  <span class="math notranslate nohighlight">\(F\)</span> satisfies equation <a class="reference internal" href="#equation-eq-formulaf">(42.16)</a>,</p>
<p>The Ramsey planner’s  decision rule for updating <span class="math notranslate nohighlight">\(\theta_{t+1}\)</span> is</p>
<div class="math notranslate nohighlight" id="equation-eq-thetaramseyrule">
<span class="eqno">(42.19)<a class="headerlink" href="#equation-eq-thetaramseyrule" title="Permalink to this equation">#</a></span>\[
\theta_{t+1} = d_0 + d_1 \theta_t
\]</div>
<p>where <span class="math notranslate nohighlight">\(\begin{bmatrix} d_0 &amp; d_1 \end{bmatrix}\)</span> is the second row of
the closed-loop matrix <span class="math notranslate nohighlight">\(A - BF\)</span> for computed in subproblem 1 above.</p>
<p>The linear quadratic control problem <a class="reference internal" href="#equation-eq-subprob1lq">(42.15)</a>  satisfies regularity conditions that
guarantee that <span class="math notranslate nohighlight">\(A - BF \)</span> is a stable matrix (i.e., its maximum eigenvalue is strictly less than
<span class="math notranslate nohighlight">\(1\)</span> in absolute value).</p>
<p>Consequently, we are assured that</p>
<div class="math notranslate nohighlight" id="equation-eq-stabilityd1">
<span class="eqno">(42.20)<a class="headerlink" href="#equation-eq-stabilityd1" title="Permalink to this equation">#</a></span>\[ 
| d_1 | &lt; 1 ,
\]</div>
<p>a stability condition that will play an important role.</p>
<p>It remains for us to describe how the Ramsey planner sets <span class="math notranslate nohighlight">\(\theta_0\)</span>.</p>
<p>Subproblem 2 does that.</p>
</section>
<section id="subproblem-2">
<h3><span class="section-number">42.8.2. </span>Subproblem 2<a class="headerlink" href="#subproblem-2" title="Permalink to this heading">#</a></h3>
<p>The value of the Ramsey problem is</p>
<div class="math notranslate nohighlight">
\[
V^R = \max_{\theta} J(\theta)
\]</div>
<p>where <span class="math notranslate nohighlight">\(V^R\)</span> is the maximum value of <span class="math notranslate nohighlight">\(v_0\)</span> defined in equation <a class="reference internal" href="#equation-eq-old7">(42.11)</a>.</p>
<p>We have taken the liberty of abusing notation slightly by writing <span class="math notranslate nohighlight">\(J(x)\)</span> as <span class="math notranslate nohighlight">\(J(\theta)\)</span></p>
<ul class="simple">
<li><p>notice that <span class="math notranslate nohighlight">\(x = \begin{bmatrix} 1 \cr \theta \end{bmatrix}\)</span>, so <span class="math notranslate nohighlight">\(\theta\)</span> is the only component of <span class="math notranslate nohighlight">\(x\)</span> that can possibly vary</p></li>
</ul>
<p>Value function <span class="math notranslate nohighlight">\(J(\theta_0)\)</span> satisfies</p>
<div class="math notranslate nohighlight">
\[\begin{split}
 J(\theta_0) = -\begin{bmatrix} 1 &amp; \theta_0 \end{bmatrix} \begin{bmatrix} P_{11} &amp; P_{12} \\ P_{21} &amp; P_{22} \end{bmatrix} \begin{bmatrix} 1 \\ \theta_0 \end{bmatrix} = -P_{11} - 2 P_{21} \theta_0 - P_{22} \theta_0^2
\end{split}\]</div>
<p>Maximizing <span class="math notranslate nohighlight">\(J(\theta_0)\)</span>  with respect to <span class="math notranslate nohighlight">\(\theta_0\)</span> yields the FOC:</p>
<div class="math notranslate nohighlight">
\[
- 2 P_{21} - 2 P_{22} \theta_0 =0
\]</div>
<p>which implies</p>
<div class="math notranslate nohighlight">
\[
\theta_0 = \theta_0^R = - \frac{P_{21}}{P_{22}}
\]</div>
</section>
</section>
<section id="representation-of-ramsey-plan">
<h2><span class="section-number">42.9. </span>Representation of Ramsey Plan<a class="headerlink" href="#representation-of-ramsey-plan" title="Permalink to this heading">#</a></h2>
<p>The preceding calculations indicate that we can represent a Ramsey plan
<span class="math notranslate nohighlight">\(\vec \mu\)</span> recursively with the following system created in the spirit of Chang <span id="id22">[<a class="reference internal" href="zreferences.html#id216" title="Roberto Chang. Credible monetary policy in an infinite horizon model: recursive approaches. Journal of Economic Theory, 81(2):431–461, 1998.">Chang, 1998</a>]</span>:</p>
<div class="math notranslate nohighlight" id="equation-eq-old9">
<span class="eqno">(42.21)<a class="headerlink" href="#equation-eq-old9" title="Permalink to this equation">#</a></span>\[\begin{split}\begin{aligned}
\theta_0 &amp; = \theta_0^R \\
\mu_t &amp;  = b_0 + b_1 \theta_t \\
v_t &amp; = g_0 +g_1\theta_t + g_2 \theta_t^2 \\
\theta_{t+1} &amp; = d_0 + d_1 \theta_t , \quad  d_0 &gt;0, d_1 \in (0,1) \\
\end{aligned}\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(b_0, b_1, g_0, g_1, g_2\)</span> are positive parameters that we shall compute with Python code below.</p>
<p>From condition <a class="reference internal" href="#equation-eq-stabilityd1">(42.20)</a>, we know that <span class="math notranslate nohighlight">\(|d_1| &lt; 1\)</span>.</p>
<p>To interpret system <a class="reference internal" href="#equation-eq-old9">(42.21)</a>, think of the  sequence
<span class="math notranslate nohighlight">\(\{\theta_t\}_{t=0}^\infty\)</span> as a sequence of
synthetic <strong>promised inflation rates</strong>.</p>
<p>For some purposes, we can think of these promised inflation rates  just as computational devices for
generating a sequence <span class="math notranslate nohighlight">\(\vec\mu\)</span> of money growth rates that when  substituted into equation <a class="reference internal" href="#equation-eq-old3">(42.3)</a> generate  <em>actual</em> rates of inflation.</p>
<p>It can be verified that if we substitute a plan
<span class="math notranslate nohighlight">\(\vec \mu = \{\mu_t\}_{t=0}^\infty\)</span> that satisfies these equations
into equation <a class="reference internal" href="#equation-eq-old3">(42.3)</a>, we obtain the same sequence <span class="math notranslate nohighlight">\(\vec \theta\)</span>
generated by the system <a class="reference internal" href="#equation-eq-old9">(42.21)</a>.</p>
<p>(Here an application of the Big <span class="math notranslate nohighlight">\(K\)</span>, little <span class="math notranslate nohighlight">\(k\)</span> trick is again at work.)</p>
<p>Thus,  within the  Ramsey plan,  <strong>promised
inflation</strong> equals <strong>actual inflation</strong>.</p>
<p>System <a class="reference internal" href="#equation-eq-old9">(42.21)</a> implies that under the Ramsey plan</p>
<div class="math notranslate nohighlight" id="equation-eq-thetatimeinconsist">
<span class="eqno">(42.22)<a class="headerlink" href="#equation-eq-thetatimeinconsist" title="Permalink to this equation">#</a></span>\[
 \theta_t = d_0 \left(\frac{1 - d_1^t}{1 - d_1} \right)  + d_1^t \theta_0^R ,
\]</div>
<p>Because <span class="math notranslate nohighlight">\(d_1 \in (0,1)\)</span>, it follows  from <a class="reference internal" href="#equation-eq-thetatimeinconsist">(42.22)</a> that  as <span class="math notranslate nohighlight">\(t \to \infty\)</span> <span class="math notranslate nohighlight">\(\theta_t^R \)</span> converges to</p>
<div class="math notranslate nohighlight" id="equation-eq-thetaasymptotic">
<span class="eqno">(42.23)<a class="headerlink" href="#equation-eq-thetaasymptotic" title="Permalink to this equation">#</a></span>\[
\lim_{t \rightarrow +\infty} \theta_t^R =  \theta_\infty^R = \frac{d_0}{1 - d_1}.  
\]</div>
<p>Furthermore, we shall see that  <span class="math notranslate nohighlight">\(\theta_t^R\)</span> converges to <span class="math notranslate nohighlight">\(\theta_\infty^R\)</span> from above.</p>
<p>Meanwhile,  <span class="math notranslate nohighlight">\(\mu_t\)</span> varies over time according to</p>
<div class="math notranslate nohighlight" id="equation-eq-mutimeinconsist">
<span class="eqno">(42.24)<a class="headerlink" href="#equation-eq-mutimeinconsist" title="Permalink to this equation">#</a></span>\[
 \mu_t = b_0 + b_1 d_0 \left(\frac{1 - d_1^t}{1 - d_1} \right)  + b_1 d_1^t \theta_0^R.
\]</div>
<p>Variation of  <span class="math notranslate nohighlight">\( \vec \mu^R, \vec \theta^R, \vec v^R \)</span> over time  are  symptoms of time inconsistency.</p>
<ul class="simple">
<li><p>The Ramsey planner reaps immediate benefits from promising lower
inflation later to be achieved by costly distorting taxes.</p></li>
<li><p>These benefits are intermediated by reductions in expected inflation
that precede the  reductions in money creation rates that rationalize them, as indicated by
equation <a class="reference internal" href="#equation-eq-old3">(42.3)</a>.</p></li>
</ul>
</section>
<section id="multiple-roles-of-theta-t">
<h2><span class="section-number">42.10. </span>Multiple roles of <span class="math notranslate nohighlight">\(\theta_t\)</span><a class="headerlink" href="#multiple-roles-of-theta-t" title="Permalink to this heading">#</a></h2>
<p>The inflation rate <span class="math notranslate nohighlight">\(\theta_t\)</span> plays three roles simultaneously:</p>
<ul class="simple">
<li><p>In equation <a class="reference internal" href="#equation-eq-old3">(42.3)</a>, <span class="math notranslate nohighlight">\(\theta_t\)</span> is the actual rate of inflation
between <span class="math notranslate nohighlight">\(t\)</span> and <span class="math notranslate nohighlight">\(t+1\)</span>.</p></li>
<li><p>In equation  <a class="reference internal" href="#equation-eq-old2">(42.2)</a> and <a class="reference internal" href="#equation-eq-old3">(42.3)</a>, <span class="math notranslate nohighlight">\(\theta_t\)</span> is also the public’s
expected rate of inflation between <span class="math notranslate nohighlight">\(t\)</span> and <span class="math notranslate nohighlight">\(t+1\)</span>.</p></li>
<li><p>In system <a class="reference internal" href="#equation-eq-old9">(42.21)</a>, <span class="math notranslate nohighlight">\(\theta_t\)</span> is a promised rate of inflation
chosen by the Ramsey planner at time <span class="math notranslate nohighlight">\(0\)</span>.</p></li>
</ul>
<p>That the same variable <span class="math notranslate nohighlight">\(\theta_t\)</span> takes on these multiple roles brings insights about
commitment and forward guidance, about whether the government  follows  or   leads the market, and
about dynamic or time inconsistency.</p>
</section>
<section id="time-inconsistency">
<h2><span class="section-number">42.11. </span>Time inconsistency<a class="headerlink" href="#time-inconsistency" title="Permalink to this heading">#</a></h2>
<p>As discussed in <a class="reference internal" href="dyn_stack.html"><span class="doc">Stackelberg plans</span></a> and <a class="reference internal" href="opt_tax_recur.html"><span class="doc">Optimal taxation with state-contingent debt</span></a>, a continuation Ramsey plan is not a Ramsey plan.</p>
<p>This is a concise way of characterizing the time inconsistency of a Ramsey plan.</p>
<p>The time inconsistency of a Ramsey plan has motivated other models of government decision making
that, relative to a Ramsey plan,  alter either</p>
<ul class="simple">
<li><p>the timing protocol and/or</p></li>
<li><p>assumptions about how government decision makers think their decisions affect the representative agent’s beliefs about future government decisions</p></li>
</ul>
</section>
<section id="constrained-to-constant-growth-rate-ramsey-plan">
<h2><span class="section-number">42.12. </span>Constrained-to-Constant-Growth-Rate Ramsey Plan<a class="headerlink" href="#constrained-to-constant-growth-rate-ramsey-plan" title="Permalink to this heading">#</a></h2>
<p>We now describe a  model in which we restrict the Ramsey planner’s choice set.</p>
<p>Instead of choosing a sequence of money growth rates <span class="math notranslate nohighlight">\(\vec \mu \in {\bf L}^2\)</span>, we restrict the
government to choose a time-invariant money growth rate <span class="math notranslate nohighlight">\(\bar \mu\)</span>.</p>
<p>We created this version of the model  to highlight an aspect of a Ramsey plan associated with its time inconsistency, namely, the feature that optimal settings of the  policy instrument vary over time.</p>
<p>Thus, instead of allowing the government at time <span class="math notranslate nohighlight">\(0\)</span> to choose a different <span class="math notranslate nohighlight">\(\mu_t\)</span> for each <span class="math notranslate nohighlight">\(t \geq 0\)</span>, we now assume that a  government at time <span class="math notranslate nohighlight">\(0\)</span> once and for all  chooses a <em>constant</em> sequence <span class="math notranslate nohighlight">\(\mu_t = \bar \mu\)</span> for all <span class="math notranslate nohighlight">\(t \geq 0\)</span>.</p>
<p>We assume that the government knows the perfect foresight outcome implied by equation <a class="reference internal" href="#equation-eq-old2">(42.2)</a> that <span class="math notranslate nohighlight">\(\theta_t = \bar  \mu\)</span> when <span class="math notranslate nohighlight">\(\mu_t = \bar \mu\)</span> for all <span class="math notranslate nohighlight">\(t \geq 0\)</span>.</p>
<p>The government chooses <span class="math notranslate nohighlight">\(\bar \mu\)</span>  to maximize</p>
<div class="math notranslate nohighlight">
\[
V^{CR}(\bar \mu) = V(\bar \mu)
\]</div>
<p>where <span class="math notranslate nohighlight">\(V(\bar \mu)\)</span> is defined in equation <a class="reference internal" href="#equation-eq-barvdef">(42.13)</a>.</p>
<p>We can express <span class="math notranslate nohighlight">\(V^{CR}(\bar \mu)\)</span> as</p>
<div class="math notranslate nohighlight" id="equation-eq-vcrformula20">
<span class="eqno">(42.25)<a class="headerlink" href="#equation-eq-vcrformula20" title="Permalink to this equation">#</a></span>\[
V^{CR} (\bar \mu) = (1-\beta)^{-1} \left[ U (-\alpha \bar \mu) - \frac{c}{2} (\bar \mu)^2 \right]
\]</div>
<p>With the quadratic form <a class="reference internal" href="#equation-eq-old5">(42.6)</a> for the utility function <span class="math notranslate nohighlight">\(U\)</span>, the
maximizing <span class="math notranslate nohighlight">\(\bar \mu\)</span> is</p>
<div class="math notranslate nohighlight" id="equation-eq-muramseyconstrained">
<span class="eqno">(42.26)<a class="headerlink" href="#equation-eq-muramseyconstrained" title="Permalink to this equation">#</a></span>\[
\mu^{CR} = - \frac{\alpha u_1}{\alpha^2 u_2 + c }
\]</div>
<p>The optimal value attained by a <em>constrained to constant <span class="math notranslate nohighlight">\(\mu\)</span></em> Ramsey planner is</p>
<div class="math notranslate nohighlight" id="equation-eq-vcrformula">
<span class="eqno">(42.27)<a class="headerlink" href="#equation-eq-vcrformula" title="Permalink to this equation">#</a></span>\[
V^{CR}(\mu^{CR}) = v^{CR} = (1-\beta)^{-1} \left[ U (-\alpha \mu^{CR}) - \frac{c}{2} (\mu^{CR})^2 \right]
\]</div>
<p><strong>Remark:</strong> We have  introduced the constrained-to-constant <span class="math notranslate nohighlight">\(\mu\)</span>
government in order eventually to highlight the   time-variation of
<span class="math notranslate nohighlight">\(\mu_t\)</span>   that is a telltale sign of a Ramsey plan’s  <strong>time inconsistency</strong>.</p>
</section>
<section id="markov-perfect-governments">
<h2><span class="section-number">42.13. </span>Markov Perfect Governments<a class="headerlink" href="#markov-perfect-governments" title="Permalink to this heading">#</a></h2>
<p>We now describe yet another timing protocol.</p>
<p>In this one, there is a sequence of government policymakers.</p>
<p>A time <span class="math notranslate nohighlight">\(t\)</span> government chooses <span class="math notranslate nohighlight">\(\mu_t\)</span> and expects all future governments to set
<span class="math notranslate nohighlight">\(\mu_{t+j} = \bar \mu\)</span>.</p>
<p>This assumption mirrors an assumption made   in this QuantEcon lecture:  <a class="reference external" href="https://python-intro.quantecon.org/markov_perf.html">Markov Perfect Equilibrium</a>.</p>
<p>When it sets <span class="math notranslate nohighlight">\(\mu_t\)</span>, the  government   at <span class="math notranslate nohighlight">\(t\)</span> believes that <span class="math notranslate nohighlight">\(\bar \mu\)</span> is
unaffected by its choice of <span class="math notranslate nohighlight">\(\mu_t\)</span>.</p>
<p>According to equation <a class="reference internal" href="#equation-eq-old3">(42.3)</a>,  the time <span class="math notranslate nohighlight">\(t\)</span> rate of inflation is then</p>
<div class="math notranslate nohighlight" id="equation-eq-markov2">
<span class="eqno">(42.28)<a class="headerlink" href="#equation-eq-markov2" title="Permalink to this equation">#</a></span>\[
\theta_t =  \frac{1}{1+\alpha} \mu_t + \frac{\alpha}{1+\alpha} \bar \mu, 
\]</div>
<p>which expresses inflation <span class="math notranslate nohighlight">\(\theta_t\)</span> as a geometric weighted average of the money growth today
<span class="math notranslate nohighlight">\(\mu_t\)</span> and money growth from tomorrow onward <span class="math notranslate nohighlight">\(\bar \mu\)</span>.</p>
<p>Given <span class="math notranslate nohighlight">\(\bar \mu\)</span>, the time <span class="math notranslate nohighlight">\(t\)</span> government  chooses <span class="math notranslate nohighlight">\(\mu_t\)</span> to
maximize:</p>
<div class="math notranslate nohighlight" id="equation-eq-markov3">
<span class="eqno">(42.29)<a class="headerlink" href="#equation-eq-markov3" title="Permalink to this equation">#</a></span>\[
Q(\mu_t, \bar \mu) = U(-\alpha \theta_t) - \frac{c}{2} \mu_t^2 + \beta V(\bar \mu)
\]</div>
<p>where <span class="math notranslate nohighlight">\(V(\bar \mu)\)</span> is given by formula  <a class="reference internal" href="#equation-eq-barvdef">(42.13)</a> for  the time <span class="math notranslate nohighlight">\(0\)</span> value <span class="math notranslate nohighlight">\(v_0\)</span> of
recursion <a class="reference internal" href="#equation-eq-old8">(42.12)</a> under a money supply growth rate that is forever constant
at <span class="math notranslate nohighlight">\(\bar \mu\)</span>.</p>
<p>Substituting  <a class="reference internal" href="#equation-eq-markov2">(42.28)</a> into <a class="reference internal" href="#equation-eq-markov3">(42.29)</a> and expanding gives:</p>
<div class="math notranslate nohighlight" id="equation-eq-vmutemp">
<span class="eqno">(42.30)<a class="headerlink" href="#equation-eq-vmutemp" title="Permalink to this equation">#</a></span>\[\begin{split} 
\begin{aligned}
Q(\mu_t, \bar \mu) &amp; = u_0 + u_1\left(-\frac{\alpha^2}{1+\alpha} \bar \mu - \frac{\alpha}{1+\alpha} \mu_t\right) - \frac{u_2}{2}\left(-\frac{\alpha^2}{1+\alpha} \bar \mu - \frac{\alpha}{1+\alpha} \mu_t\right)^2   \\ 
&amp; \quad \quad \quad - \frac{c}{2} \mu_t^2 + \beta V(\bar \mu)
\end{aligned}
\end{split}\]</div>
<p>The first-order necessary condition for maximing <span class="math notranslate nohighlight">\(Q(\mu_t, \bar \mu)\)</span> with respect to <span class="math notranslate nohighlight">\(\mu_t\)</span> is:</p>
<div class="math notranslate nohighlight">
\[
- \frac{\alpha}{1+\alpha} u_1 - u_2(-\frac{\alpha^2}{1+\alpha} \bar \mu - \frac{\alpha}{1+\alpha} \mu_t)(- \frac{\alpha}{1+\alpha}) - c \mu_t = 0
\]</div>
<p>Rearranging we get the time <span class="math notranslate nohighlight">\(t\)</span> government’s best response map</p>
<div class="math notranslate nohighlight">
\[
\mu_t = f(\bar \mu)
\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[
f(\bar \mu)= \frac{- u_1}{\frac{1+\alpha}{\alpha}c + \frac{\alpha}{1+\alpha}u_2} - \frac{\alpha^2 u_2}{\left[ \frac{1+\alpha}{\alpha}c + \frac{\alpha}{1+\alpha} u_2 \right] (1+\alpha)}\bar \mu
\]</div>
<p>A <strong>Markov Perfect Equilibrium</strong> (MPE) outcome <span class="math notranslate nohighlight">\( \mu^{MPE}\)</span> is a fixed point of the best response map:</p>
<div class="math notranslate nohighlight">
\[
\mu^{MPE} = f(\mu^{MPE})
\]</div>
<p>Calculating <span class="math notranslate nohighlight">\(\mu^{MPE}\)</span>, we find</p>
<div class="math notranslate nohighlight">
\[
\mu^{MPE} = \frac{-u_1}{\frac{1+\alpha}{\alpha}c + \frac{\alpha}{1+\alpha} u_2 + \frac{\alpha^2}{1+\alpha} u_2}
\]</div>
<p>This can be simplified to</p>
<div class="math notranslate nohighlight" id="equation-eq-markovperfectmu">
<span class="eqno">(42.31)<a class="headerlink" href="#equation-eq-markovperfectmu" title="Permalink to this equation">#</a></span>\[
\mu^{MPE}  = - \frac{\alpha u_1}{\alpha^2 u_2 + (1+\alpha)c} .
\]</div>
<p>The value of a Markov perfect equilibrium is</p>
<div class="math notranslate nohighlight" id="equation-eq-vmpe">
<span class="eqno">(42.32)<a class="headerlink" href="#equation-eq-vmpe" title="Permalink to this equation">#</a></span>\[
V^{MPE} = -\frac{s(\mu^{MPE}, \mu^{MPE})}{1-\beta}
\]</div>
<p>or</p>
<div class="math notranslate nohighlight">
\[
V^{MPE} = V(\mu^{MPE})
\]</div>
<p>where <span class="math notranslate nohighlight">\(V(\cdot)\)</span> is given by formula <a class="reference internal" href="#equation-eq-barvdef">(42.13)</a>.</p>
<p>Under the  Markov perfect timing protocol</p>
<ul class="simple">
<li><p>a government takes <span class="math notranslate nohighlight">\(\bar \mu\)</span> as given when it chooses <span class="math notranslate nohighlight">\(\mu_t\)</span></p></li>
<li><p>we equate <span class="math notranslate nohighlight">\(\mu_t = \mu\)</span> only <em>after</em> we have computed a time <span class="math notranslate nohighlight">\(t\)</span> government’s first-order condition for <span class="math notranslate nohighlight">\(\mu_t\)</span>.</p></li>
</ul>
</section>
<section id="outcomes-under-three-timing-protocols">
<span id="compute-lq"></span><h2><span class="section-number">42.14. </span>Outcomes under Three Timing Protocols<a class="headerlink" href="#outcomes-under-three-timing-protocols" title="Permalink to this heading">#</a></h2>
<p>We  want to compare outcome sequences  <span class="math notranslate nohighlight">\(\{ \theta_t,\mu_t \}\)</span> under three timing protocols associated with</p>
<ul class="simple">
<li><p>a standard Ramsey plan with its time varying <span class="math notranslate nohighlight">\(\{ \theta_t,\mu_t \}\)</span> sequences</p></li>
<li><p>a Markov perfect equilibrium</p></li>
<li><p>our nonstandard  Ramsey plan in which the planner is restricted to choose a time-invariant  <span class="math notranslate nohighlight">\(\mu_t = \mu\)</span> for all <span class="math notranslate nohighlight">\(t \geq 0\)</span>.</p></li>
</ul>
<p>We have computed closed form formulas for several of these outcomes, which we find it convenient to repeat here.</p>
<p>In particular, the constrained to constant inflation Ramsey inflation outcome is <span class="math notranslate nohighlight">\(\mu^{CR}\)</span>,
which according to equation <a class="reference internal" href="#equation-eq-muramseyconstrained">(42.26)</a> is</p>
<div class="math notranslate nohighlight">
\[
\theta^{CR} = - \frac{\alpha u_1}{\alpha^2 u_2 + c }
\]</div>
<p>Equation <a class="reference internal" href="#equation-eq-markovperfectmu">(42.31)</a> implies that the Markov perfect constant inflation rate is</p>
<div class="math notranslate nohighlight">
\[
\theta^{MPE}  = - \frac{\alpha u_1}{\alpha^2 u_2 + (1+\alpha)c}
\]</div>
<p>According to equation <a class="reference internal" href="#equation-eq-friedmantheta">(42.8)</a>, the bliss level of inflation that we associated with a Friedman rule is</p>
<div class="math notranslate nohighlight">
\[
 \theta^* = -\frac{u_1}{u_2 \alpha}
\]</div>
<p><strong>Proposition 1:</strong> When <span class="math notranslate nohighlight">\(c=0\)</span>,  <span class="math notranslate nohighlight">\(\theta^{MPE} = \theta^{CR} = \theta^*\)</span> and
<span class="math notranslate nohighlight">\(\theta_0^R = \theta_\infty^R\)</span>.</p>
<p>The first two equalities follow from the preceding three equations.</p>
<p>We’ll illustrate  the third equality that equates <span class="math notranslate nohighlight">\(\theta_0^R\)</span> to <span class="math notranslate nohighlight">\( \theta_\infty^R\)</span> with some quantitative examples below.</p>
<p>Proposition 1 draws attention to how   a positive tax distortion parameter <span class="math notranslate nohighlight">\(c\)</span> alters  the  optimal rate of deflation that Milton Friedman financed  by imposing a lump sum tax.</p>
<p>We’ll compute</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\((\vec \theta^R, \vec \mu^R)\)</span>:  ordinary time-varying Ramsey sequences</p></li>
<li><p><span class="math notranslate nohighlight">\((\theta^{MPE} = \mu^{MPE})\)</span>:  Markov perfect equilibrium (MPE) fixed values</p></li>
<li><p><span class="math notranslate nohighlight">\((\theta^{CR} = \mu^{CR})\)</span>:  fixed values associated with a constrained to time-invariant <span class="math notranslate nohighlight">\(\mu\)</span> Ramsey plan</p></li>
<li><p><span class="math notranslate nohighlight">\(\theta^*\)</span>:   bliss level of inflation prescribed by a Friedman rule</p></li>
</ul>
<p>We will create a class ChangLQ that solves the models and stores their values</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ChangLQ</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class to solve LQ Chang model</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">β</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">α</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">u0</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">u1</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">u2</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">θ_n</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
        <span class="c1"># Record parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">α</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">u0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">u1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">u2</span> <span class="o">=</span> <span class="n">α</span><span class="p">,</span> <span class="n">u0</span><span class="p">,</span> <span class="n">u1</span><span class="p">,</span> <span class="n">u2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">β</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">θ_n</span> <span class="o">=</span> <span class="n">β</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">θ_n</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setup_LQ_matrices</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solve_LQ_problem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compute_policy_functions</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simulate_ramsey_plan</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compute_θ_range</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compute_value_and_policy</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">setup_LQ_matrices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># LQ Matrices</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">R</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="bp">self</span><span class="o">.</span><span class="n">u0</span><span class="p">,</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">u1</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span> <span class="o">/</span> <span class="mi">2</span><span class="p">],</span>
                            <span class="p">[</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">u1</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> 
                             <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">u2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">2</span><span class="p">]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Q</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">/</span> <span class="mi">2</span><span class="p">]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span><span class="p">]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span><span class="p">]])</span>

    <span class="k">def</span> <span class="nf">solve_LQ_problem</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Solve LQ Problem (Subproblem 1)</span>
        <span class="n">lq</span> <span class="o">=</span> <span class="n">LQ</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Q</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">A</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">β</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span> <span class="o">=</span> <span class="n">lq</span><span class="o">.</span><span class="n">stationary_values</span><span class="p">()</span>

        <span class="c1"># Compute g0, g1, and g2 (41.16)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">g0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">g1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">g2</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">P</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> 
                                     <span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">P</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">P</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
        
        <span class="c1"># Compute b0 and b1 (41.17)</span>
        <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">b0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b1</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">F</span>

        <span class="c1"># Compute d0 and d1 (41.18)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cl_mat</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">A</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">B</span> <span class="o">@</span> <span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">)</span>  <span class="c1"># Closed loop matrix</span>
        <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">d0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d1</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cl_mat</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

        <span class="c1"># Solve Subproblem 2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">θ_R</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">P</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">P</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
        
        <span class="c1"># Find the bliss level of θ</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">θ_B</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">u1</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">u2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">compute_policy_functions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Solve the Markov Perfect Equilibrium</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">μ_MPE</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">u1</span> <span class="o">/</span> <span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span> 
                                 <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span><span class="p">)</span>
                                 <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">u2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span><span class="o">**</span><span class="mi">2</span> 
                                 <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">u2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">θ_MPE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">μ_MPE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">μ_CR</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">α</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">u1</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">u2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">α</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">θ_CR</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">μ_CR</span>

        <span class="c1"># Calculate value under MPE and CR economy</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">J_θ</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">θ_array</span><span class="p">:</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">θ_array</span><span class="p">])</span> \
                                   <span class="o">@</span> <span class="bp">self</span><span class="o">.</span><span class="n">P</span> <span class="o">@</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">θ_array</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">V_θ</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">θ</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">u0</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">u1</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">α</span> <span class="o">*</span> <span class="n">θ</span><span class="p">)</span>
                              <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">u2</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">α</span> <span class="o">*</span> <span class="n">θ</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> 
                              <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">θ</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">β</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">J_MPE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">V_θ</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">μ_MPE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">J_CR</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">V_θ</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">μ_CR</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">simulate_ramsey_plan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Simulate Ramsey plan for large number of periods</span>
        <span class="n">θ_series</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">)),</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">))))</span>
        <span class="n">μ_series</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
        <span class="n">J_series</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
        <span class="n">θ_series</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">θ_R</span>
        <span class="p">[</span><span class="n">μ_series</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">θ_series</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
        <span class="n">J_series</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">J_θ</span><span class="p">(</span><span class="n">θ_series</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">):</span>
            <span class="n">θ_series</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cl_mat</span> <span class="o">@</span> <span class="n">θ_series</span><span class="p">[:,</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="p">[</span><span class="n">μ_series</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span> <span class="o">@</span> <span class="n">θ_series</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span>
            <span class="n">J_series</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">J_θ</span><span class="p">(</span><span class="n">θ_series</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">J_series</span> <span class="o">=</span> <span class="n">J_series</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">μ_series</span> <span class="o">=</span> <span class="n">μ_series</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">θ_series</span> <span class="o">=</span> <span class="n">θ_series</span>

    <span class="k">def</span> <span class="nf">compute_θ_range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Find the range of θ in Ramsey plan</span>
        <span class="n">θ_LB</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">θ_series</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">θ_B</span><span class="p">)</span>
        <span class="n">θ_UB</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">θ_series</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">θ_MPE</span><span class="p">)</span>
        <span class="n">θ_range</span> <span class="o">=</span> <span class="n">θ_UB</span> <span class="o">-</span> <span class="n">θ_LB</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">θ_LB</span> <span class="o">=</span> <span class="n">θ_LB</span> <span class="o">-</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="n">θ_range</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">θ_UB</span> <span class="o">=</span> <span class="n">θ_UB</span> <span class="o">+</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="n">θ_range</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">θ_range</span> <span class="o">=</span> <span class="n">θ_range</span>

    <span class="k">def</span> <span class="nf">compute_value_and_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>        
        <span class="c1"># Create the θ_space</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">θ_space</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">θ_LB</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">θ_UB</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        
        <span class="c1"># Find value function and policy functions over range of θ</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">J_space</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">J_θ</span><span class="p">(</span><span class="n">θ</span><span class="p">)</span> <span class="k">for</span> <span class="n">θ</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">θ_space</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">μ_space</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span> <span class="o">@</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">θ_space</span><span class="p">))</span>
        <span class="n">x_prime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cl_mat</span> <span class="o">@</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">θ_space</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">θ_prime</span> <span class="o">=</span> <span class="n">x_prime</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CR_space</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">V_θ</span><span class="p">(</span><span class="n">θ</span><span class="p">)</span> <span class="k">for</span> <span class="n">θ</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">θ_space</span><span class="p">])</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">μ_space</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">μ_space</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span>
        
        <span class="c1"># Calculate J_range, J_LB, and J_UB</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">J_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ptp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">J_space</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">J_LB</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">J_space</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">J_range</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">J_UB</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">J_space</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">J_range</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s create an instance of ChangLQ with the following parameters:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">clq</span> <span class="o">=</span> <span class="n">ChangLQ</span><span class="p">(</span><span class="n">β</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The following code  plots value functions for a continuation Ramsey
planner.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">compute_θs</span><span class="p">(</span><span class="n">clq</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method to compute θ and assign corresponding labels and colors </span>

<span class="sd">    Here clq is an instance of ChangLQ</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">θ_points</span> <span class="o">=</span> <span class="p">[</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_B</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">θ_series</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> 
                <span class="n">clq</span><span class="o">.</span><span class="n">θ_CR</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">θ_space</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">J_space</span><span class="p">)],</span> 
                <span class="n">clq</span><span class="o">.</span><span class="n">θ_MPE</span><span class="p">]</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="sa">r</span><span class="s2">&quot;$\theta^*$&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;$\theta_\infty^R$&quot;</span><span class="p">,</span> 
              <span class="sa">r</span><span class="s2">&quot;$\theta^</span><span class="si">{CR}</span><span class="s2">$&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;$\theta_0^R$&quot;</span><span class="p">,</span> 
              <span class="sa">r</span><span class="s2">&quot;$\theta^</span><span class="si">{MPE}</span><span class="s2">$&quot;</span><span class="p">]</span>
    <span class="n">θ_colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;C5&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;C0&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">θ_points</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">θ_colors</span>

<span class="k">def</span> <span class="nf">plot_policy_functions</span><span class="p">(</span><span class="n">clq</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method to plot the policy functions over the relevant range of θ</span>

<span class="sd">    Here clq is an instance of ChangLQ</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

    <span class="n">θ_points</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">θ_colors</span> <span class="o">=</span> <span class="n">compute_θs</span><span class="p">(</span><span class="n">clq</span><span class="p">)</span>

    <span class="c1"># Plot θ&#39; function</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_space</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">θ_prime</span><span class="p">,</span> 
            <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;$\theta&#39;(\theta)$&quot;</span><span class="p">,</span> 
            <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_space</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">θ_space</span><span class="p">,</span> <span class="s1">&#39;k--&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>  <span class="c1"># Identity line</span>
    
    <span class="c1"># Plot μ function</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_space</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">μ_space</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> 
            <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;$\mu(\theta)$&quot;</span><span class="p">,</span> 
            <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

    <span class="c1"># Plot labels and points for μ function</span>
    <span class="n">μ_min</span><span class="p">,</span> <span class="n">μ_max</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">μ_space</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">μ_space</span><span class="p">)</span>
    <span class="n">μ_range</span> <span class="o">=</span> <span class="n">μ_max</span> <span class="o">-</span> <span class="n">μ_min</span>
    <span class="n">offset</span> <span class="o">=</span> <span class="mf">0.02</span> <span class="o">*</span> <span class="n">μ_range</span>
    <span class="k">for</span> <span class="n">θ</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">θ_points</span><span class="p">,</span> <span class="n">labels</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">θ</span><span class="p">,</span> <span class="n">μ_min</span> <span class="o">-</span> <span class="n">offset</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;v&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">θ</span><span class="p">,</span> <span class="n">μ_min</span> <span class="o">-</span> <span class="n">offset</span><span class="p">),</span>
                    <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="n">θ</span> <span class="o">-</span> <span class="mf">0.012</span> <span class="o">*</span> <span class="n">clq</span><span class="o">.</span><span class="n">θ_range</span><span class="p">,</span> <span class="n">μ_min</span> <span class="o">+</span> <span class="mf">0.01</span> <span class="o">*</span> <span class="n">μ_range</span><span class="p">),</span>
                    <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

    <span class="c1"># Set labels and limits</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$\theta$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_LB</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">θ_UB</span><span class="p">])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="nb">min</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_LB</span><span class="p">,</span> <span class="n">μ_min</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="n">clq</span><span class="o">.</span><span class="n">θ_range</span><span class="p">,</span> 
                 <span class="nb">max</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_UB</span><span class="p">,</span> <span class="n">μ_max</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="n">clq</span><span class="o">.</span><span class="n">θ_range</span><span class="p">])</span>
    
    <span class="c1"># Add legend</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_policy_functions</span><span class="p">(</span><span class="n">clq</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/f3dd3e0f85ecbff0b12bd8657c5518e2be4dbb82ca459eac681f069a1fbc770e.png" src="_images/f3dd3e0f85ecbff0b12bd8657c5518e2be4dbb82ca459eac681f069a1fbc770e.png" />
</div>
</div>
<p>The dotted line in the above graph is the 45-degree line.</p>
<p>The blue line shows  the choice of <span class="math notranslate nohighlight">\(\theta_{t+1} = \theta'\)</span> chosen by a
continuation Ramsey planner who inherits <span class="math notranslate nohighlight">\(\theta_t = \theta\)</span>.</p>
<p>The green line shows a  continuation Ramsey planner’s choice of
<span class="math notranslate nohighlight">\(\mu_t = \mu\)</span> as a function of an inherited <span class="math notranslate nohighlight">\(\theta_t = \theta\)</span>.</p>
<p>Dynamics under the Ramsey plan are confined to <span class="math notranslate nohighlight">\(\theta \in \left[ \theta_\infty^R, \theta_0^R \right]\)</span>.</p>
<p>The blue and green lines intersect each other and the 45-degree line at <span class="math notranslate nohighlight">\(\theta =\theta_{\infty}^R\)</span>.</p>
<p>Notice that for  <span class="math notranslate nohighlight">\(\theta \in \left(\theta_\infty^R, \theta_0^R \right]\)</span></p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\theta' &lt; \theta\)</span>  because the blue line is below the 45-degree line</p></li>
<li><p><span class="math notranslate nohighlight">\(\mu &gt; \theta \)</span> because the green line is above the 45-degree line</p></li>
</ul>
<p>It follows that under the Ramsey plan  <span class="math notranslate nohighlight">\(\{\theta_t\}\)</span> and <span class="math notranslate nohighlight">\(\{\mu_t\}\)</span> both converge monotonically from above to <span class="math notranslate nohighlight">\(\theta_\infty^R\)</span>.</p>
<p>The next code  plots the Ramsey planner’s value function <span class="math notranslate nohighlight">\(J(\theta)\)</span>, which we know is maximized at   <span class="math notranslate nohighlight">\(\theta^R_0\)</span>, the promised inflation that the Ramsey planner  sets
at time <span class="math notranslate nohighlight">\(t=0\)</span>.</p>
<p>The figure also plots the limiting value <span class="math notranslate nohighlight">\(\theta_\infty^R\)</span> to which  the promised  inflation rate <span class="math notranslate nohighlight">\(\theta_t\)</span> converges under the Ramsey plan.</p>
<p>In addition, the figure indicates an MPE inflation rate <span class="math notranslate nohighlight">\(\theta^{MPE}\)</span>, <span class="math notranslate nohighlight">\(\theta^{CR}\)</span>, and a bliss inflation <span class="math notranslate nohighlight">\(\theta^*\)</span>.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_value_function</span><span class="p">(</span><span class="n">clq</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method to plot the value function over the relevant range of θ</span>

<span class="sd">    Here clq is an instance of ChangLQ</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_LB</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">θ_UB</span><span class="p">])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="n">clq</span><span class="o">.</span><span class="n">J_LB</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">J_UB</span><span class="p">])</span>

    <span class="c1"># Plot value function</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_space</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">J_space</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$\theta$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$J(\theta)$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>

    <span class="n">θ_points</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">compute_θs</span><span class="p">(</span><span class="n">clq</span><span class="p">)</span>

    <span class="c1"># Add points for θs</span>
    <span class="k">for</span> <span class="n">θ</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">θ_points</span><span class="p">,</span> <span class="n">labels</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">θ</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">J_LB</span> <span class="o">+</span> <span class="mf">0.02</span> <span class="o">*</span> <span class="n">clq</span><span class="o">.</span><span class="n">J_range</span><span class="p">,</span> 
                   <span class="mi">60</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;v&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">label</span><span class="p">,</span>
                    <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">θ</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">J_LB</span> <span class="o">+</span> <span class="mf">0.01</span> <span class="o">*</span> <span class="n">clq</span><span class="o">.</span><span class="n">J_range</span><span class="p">),</span>
                    <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="n">θ</span> <span class="o">-</span> <span class="mf">0.01</span> <span class="o">*</span> <span class="n">clq</span><span class="o">.</span><span class="n">θ_range</span><span class="p">,</span> 
                            <span class="n">clq</span><span class="o">.</span><span class="n">J_LB</span> <span class="o">+</span> <span class="mf">0.08</span> <span class="o">*</span> <span class="n">clq</span><span class="o">.</span><span class="n">J_range</span><span class="p">),</span>
                    <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
<span class="n">plot_value_function</span><span class="p">(</span><span class="n">clq</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/ac18a0e46d965b6fdd77de6c20bdec35585771f7bad1ce59ef14e9d636a3818e.png" src="_images/ac18a0e46d965b6fdd77de6c20bdec35585771f7bad1ce59ef14e9d636a3818e.png" />
</div>
</div>
<p>In the above graph, notice that <span class="math notranslate nohighlight">\(\theta^* &lt; \theta_\infty^R &lt; \theta^{CR} &lt; \theta_0^R &lt; \theta^{MPE} .\)</span></p>
<p>In some subsequent calculations, we’ll use our Python code to study how gaps between
these outcome vary depending on parameters such as the cost parameter <span class="math notranslate nohighlight">\(c\)</span> and the discount factor <span class="math notranslate nohighlight">\(\beta\)</span>.</p>
</section>
<section id="ramsey-planners-value-function">
<h2><span class="section-number">42.15. </span>Ramsey Planner’s Value Function<a class="headerlink" href="#ramsey-planners-value-function" title="Permalink to this heading">#</a></h2>
<p>The next code  plots the Ramsey Planner’s value function <span class="math notranslate nohighlight">\(J(\theta)\)</span>  as well as the value function
of a constrained  Ramsey planner who  must choose a constant
<span class="math notranslate nohighlight">\(\mu\)</span>.</p>
<p>A time-invariant <span class="math notranslate nohighlight">\(\mu\)</span> implies a time-invariant <span class="math notranslate nohighlight">\(\theta\)</span>, we take the liberty of
labeling this value function <span class="math notranslate nohighlight">\(V^{CR}(\theta)\)</span>.</p>
<p>We’ll use the code to plot <span class="math notranslate nohighlight">\(J(\theta)\)</span> and <span class="math notranslate nohighlight">\(V^{CR}(\theta)\)</span> for several values of the discount factor <span class="math notranslate nohighlight">\(\beta\)</span> and  the cost of <span class="math notranslate nohighlight">\(\mu_t^2\)</span> parameter <span class="math notranslate nohighlight">\(c\)</span>.</p>
<p>In all of the graphs below, we disarm the Proposition 1 equivalence results by setting <span class="math notranslate nohighlight">\(c &gt;0\)</span>.</p>
<p>The graphs reveal interesting relationships among <span class="math notranslate nohighlight">\(\theta\)</span>’s associated with various timing protocols:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\theta_0^R &lt; \theta^{MPE} \)</span>: the initial Ramsey inflation rate exceeds the MPE inflation rate</p></li>
<li><p><span class="math notranslate nohighlight">\(\theta_\infty^R &lt; \theta^{CR} &lt;\theta_0^R\)</span>: the initial Ramsey deflation rate, and the associated tax distortion cost <span class="math notranslate nohighlight">\(c \mu_0^2\)</span> is less than the limiting Ramsey inflation rate <span class="math notranslate nohighlight">\(\theta_\infty^R\)</span> and the associated tax distortion cost <span class="math notranslate nohighlight">\(\mu_\infty^2\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\theta^* &lt; \theta^R_\infty\)</span>: the limiting Ramsey inflation rate exceeds the bliss level of inflation</p></li>
<li><p><span class="math notranslate nohighlight">\(J(\theta) \geq V^{CR}(\theta)\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(J(\theta_\infty^R) = V^{CR}(\theta_\infty^R)\)</span></p></li>
</ul>
<p>Before doing anything else, let’s write code to verify our claim that
<span class="math notranslate nohighlight">\(J(\theta_\infty^R) = V^{CR}(\theta_\infty^R)\)</span>.</p>
<p>Here is the code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">θ_inf</span> <span class="o">=</span> <span class="n">clq</span><span class="o">.</span><span class="n">θ_series</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">J_θ</span><span class="p">(</span><span class="n">θ_inf</span><span class="p">),</span>
            <span class="n">clq</span><span class="o">.</span><span class="n">V_θ</span><span class="p">(</span><span class="n">θ_inf</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>So our claim that <span class="math notranslate nohighlight">\(J(\theta_\infty^R) = V^{CR}(\theta_\infty^R)\)</span> is verified numerically.</p>
<p>Since  <span class="math notranslate nohighlight">\(J(\theta_\infty^R) = V^{CR}(\theta_\infty^R)\)</span> occurs at a tangency point at which
<span class="math notranslate nohighlight">\(J(\theta)\)</span> is increasing in <span class="math notranslate nohighlight">\(\theta\)</span>, it follows that</p>
<div class="math notranslate nohighlight" id="equation-eq-comparison2">
<span class="eqno">(42.33)<a class="headerlink" href="#equation-eq-comparison2" title="Permalink to this equation">#</a></span>\[
V(\theta_\infty^R) \leq J(\theta^{CR})
\]</div>
<p>with strict inequality when <span class="math notranslate nohighlight">\(c &gt; 0\)</span>.</p>
<p>Thus, the limiting continuation value of continuation Ramsey planners is worse that the
constant value attained by a constrained-to-constant <span class="math notranslate nohighlight">\(\mu_t\)</span> Ramsey planner.</p>
<p>Now let’s write some code to  plot outcomes under our three timing protocols.</p>
<p>Then we’ll use the code to explore how key parameters affect outcomes.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">compare_ramsey_CR</span><span class="p">(</span><span class="n">clq</span><span class="p">,</span> <span class="n">ax</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method to compare values of Ramsey and Constrained Ramsey (CR)</span>

<span class="sd">    Here clq is an instance of ChangLQ</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="c1"># Calculate CR space range and bounds</span>
    <span class="n">min_CR</span><span class="p">,</span> <span class="n">max_CR</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">CR_space</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">CR_space</span><span class="p">)</span>
    <span class="n">range_CR</span> <span class="o">=</span> <span class="n">max_CR</span> <span class="o">-</span> <span class="n">min_CR</span>
    <span class="n">l_CR</span><span class="p">,</span> <span class="n">u_CR</span> <span class="o">=</span> <span class="n">min_CR</span> <span class="o">-</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="n">range_CR</span><span class="p">,</span> <span class="n">max_CR</span> <span class="o">+</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="n">range_CR</span>
    
    <span class="c1"># Set axis limits</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_LB</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">θ_UB</span><span class="p">])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="n">l_CR</span><span class="p">,</span> <span class="n">u_CR</span><span class="p">])</span>

    <span class="c1"># Plot J(θ) and v^CR(θ)</span>
    <span class="n">J_line</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_space</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">J_space</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;$J(\theta)$&quot;</span><span class="p">)</span>
    <span class="n">CR_line</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_space</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">CR_space</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;$V^</span><span class="si">{CR}</span><span class="s2">(\theta)$&quot;</span><span class="p">)</span>

    <span class="c1"># Mark key points</span>
    <span class="n">θ_points</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">θ_colors</span> <span class="o">=</span> <span class="n">compute_θs</span><span class="p">(</span><span class="n">clq</span><span class="p">)</span>
    <span class="n">markers</span> <span class="o">=</span> <span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">θ</span><span class="p">,</span> <span class="n">l_CR</span> <span class="o">+</span> <span class="mf">0.02</span> <span class="o">*</span> <span class="n">range_CR</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> 
                          <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>
               <span class="k">for</span> <span class="n">θ</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">θ_points</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">θ_colors</span><span class="p">)]</span>
    
    <span class="c1"># Plot lines at \theta_\infty^R, \theta^{CR}, and \theta^{MPE}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">θ_points</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">ymin</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> 
                   <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">θ_colors</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">clq</span><span class="o">.</span><span class="n">V_θ</span><span class="p">(</span><span class="n">θ_points</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">,</span> 
                   <span class="n">lw</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">θ_colors</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

    <span class="n">v_CR</span> <span class="o">=</span> <span class="n">clq</span><span class="o">.</span><span class="n">V_θ</span><span class="p">(</span><span class="n">θ_points</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">vcr_line</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">v_CR</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> 
                          <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;$v^</span><span class="si">{CR}</span><span class="s2">$&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">J_line</span><span class="p">,</span> <span class="n">CR_line</span><span class="p">,</span> <span class="n">vcr_line</span><span class="p">],</span> <span class="n">markers</span>

<span class="k">def</span> <span class="nf">plt_clqs</span><span class="p">(</span><span class="n">clqs</span><span class="p">,</span> <span class="n">axes</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A helper function to plot two separate legends on top and bottom</span>

<span class="sd">    Here clqs is a list of ChangLQ instances </span>
<span class="sd">    axes is a list of Matplotlib axes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">line_handles</span><span class="p">,</span> <span class="n">scatter_handles</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">clq</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">clqs</span><span class="p">):</span>
        <span class="n">lines</span><span class="p">,</span> <span class="n">markers</span> <span class="o">=</span> <span class="n">compare_ramsey_CR</span><span class="p">(</span><span class="n">clq</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">fr</span><span class="s1">&#39;$\beta$=</span><span class="si">{</span><span class="n">clq</span><span class="o">.</span><span class="n">β</span><span class="si">}</span><span class="s1">, $c$=</span><span class="si">{</span><span class="n">clq</span><span class="o">.</span><span class="n">c</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>

        <span class="n">line_handles</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">line</span><span class="o">.</span><span class="n">get_label</span><span class="p">():</span> <span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">})</span>
        <span class="n">scatter_handles</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">marker</span><span class="o">.</span><span class="n">get_label</span><span class="p">():</span> <span class="n">marker</span> <span class="k">for</span> <span class="n">marker</span> <span class="ow">in</span> <span class="n">markers</span><span class="p">})</span>

    <span class="c1"># Collect handles and labels</span>
    <span class="n">line_handles</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">line_handles</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
    <span class="n">scatter_handles</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">scatter_handles</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

    <span class="c1"># Create legends</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="n">line_handles</span><span class="p">,</span> 
               <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">get_label</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">line_handles</span><span class="p">],</span>
               <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper center&#39;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> 
               <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">),</span> <span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">})</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="n">scatter_handles</span><span class="p">,</span> 
               <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="n">marker</span><span class="o">.</span><span class="n">get_label</span><span class="p">()</span> <span class="k">for</span> <span class="n">marker</span> <span class="ow">in</span> <span class="n">scatter_handles</span><span class="p">],</span>
               <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower center&#39;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> 
               <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">),</span> <span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">})</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">generate_table</span><span class="p">(</span><span class="n">clqs</span><span class="p">,</span> <span class="n">dig</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A function to generate a table of θ values and display it using LaTeX</span>

<span class="sd">    Here clqs is a list of ChangLQ instances and </span>
<span class="sd">    dig is the number of digits to round to</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Collect data</span>
    <span class="n">label_maps</span> <span class="o">=</span> <span class="p">{</span><span class="sa">rf</span><span class="s1">&#39;$\beta=</span><span class="si">{</span><span class="n">clq</span><span class="o">.</span><span class="n">β</span><span class="si">}</span><span class="s1">, c=</span><span class="si">{</span><span class="n">clq</span><span class="o">.</span><span class="n">c</span><span class="si">}</span><span class="s1">$&#39;</span><span class="p">:</span> 
                  <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">dig</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">compute_θs</span><span class="p">(</span><span class="n">clq</span><span class="p">)[</span><span class="mi">0</span><span class="p">]]</span> <span class="k">for</span> <span class="n">clq</span> <span class="ow">in</span> <span class="n">clqs</span><span class="p">}</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">compute_θs</span><span class="p">(</span><span class="n">clqs</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">data_frame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">label_maps</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>

    <span class="c1"># Generate table</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39; &amp; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">text</span><span class="se">{{</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="se">}}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">data_frame</span><span class="o">.</span><span class="n">columns</span><span class="p">])</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="s1">&#39; </span><span class="se">\\\\\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="p">[</span><span class="s1">&#39; &amp; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">text</span><span class="se">{{</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="se">}}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">val</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">row</span><span class="p">])</span> 
         <span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">data_frame</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">data_frame</span><span class="o">.</span><span class="n">values</span><span class="p">)])</span>

    <span class="n">latex_code</span> <span class="o">=</span> <span class="sa">rf</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    \begin</span><span class="se">{{</span><span class="s2">array</span><span class="se">}}{{</span><span class="si">{</span><span class="s1">&#39;c&#39;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_frame</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="se">}}</span>
<span class="s2">    &amp; </span><span class="si">{</span><span class="n">columns</span><span class="si">}</span><span class="s2"> \\</span>
<span class="s2">    \hline</span>
<span class="s2">    </span><span class="si">{</span><span class="n">rows</span><span class="si">}</span>
<span class="s2">    \end</span><span class="se">{{</span><span class="s2">array</span><span class="se">}}</span>
<span class="s2">    &quot;&quot;&quot;</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">latex_code</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compare different β values</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">β_values</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.99</span><span class="p">]</span>

<span class="n">clqs</span> <span class="o">=</span> <span class="p">[</span><span class="n">ChangLQ</span><span class="p">(</span><span class="n">β</span><span class="o">=</span><span class="n">β</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">β</span> <span class="ow">in</span> <span class="n">β_values</span><span class="p">]</span>
<span class="n">plt_clqs</span><span class="p">(</span><span class="n">clqs</span><span class="p">,</span> <span class="n">axes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/aeb1e97f384f2b3479392ee9c6247a71c36f2db859b645dc8fcef6cf26d9f5fa.png" src="_images/aeb1e97f384f2b3479392ee9c6247a71c36f2db859b645dc8fcef6cf26d9f5fa.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">generate_table</span><span class="p">(</span><span class="n">clqs</span><span class="p">,</span> <span class="n">dig</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle 
    \begin{array}{cccc}
    &amp; \text{$\beta=0.7, c=2$} &amp; \text{$\beta=0.8, c=2$} &amp; \text{$\beta=0.99, c=2$} \\
    \hline
    \text{$\theta^*$} &amp; -0.167 &amp; -0.167 &amp; -0.167 \\
\text{$\theta_\infty^R$} &amp; -0.121 &amp; -0.111 &amp; -0.100 \\
\text{$\theta^{CR}$} &amp; -0.100 &amp; -0.100 &amp; -0.100 \\
\text{$\theta_0^R$} &amp; -0.083 &amp; -0.081 &amp; -0.079 \\
\text{$\theta^{MPE}$} &amp; -0.071 &amp; -0.071 &amp; -0.071
    \end{array}
    \end{split}\]</div>
</div>
</div>
<p>The above graphs and table convey many useful things.</p>
<p>The horizontal dotted lines indicate values
<span class="math notranslate nohighlight">\(V(\mu_\infty^R), V(\mu^{CR}), V(\mu^{MPE}) \)</span> of time-invariant money
growth rates <span class="math notranslate nohighlight">\(\mu_\infty^R, \mu^{CR}\)</span> and <span class="math notranslate nohighlight">\(\mu^{MPE}\)</span>, respectfully.</p>
<p>Notice how <span class="math notranslate nohighlight">\(J(\theta)\)</span> and <span class="math notranslate nohighlight">\(V^{CR}(\theta)\)</span> are tangent and increasing at
<span class="math notranslate nohighlight">\(\theta = \theta_\infty^R\)</span>, which implies that <span class="math notranslate nohighlight">\(\theta^{CR} &gt; \theta_\infty^R\)</span>
and <span class="math notranslate nohighlight">\(J(\theta^{CR}) &gt; J(\theta_\infty^R)\)</span>.</p>
<p>Notice how changes in <span class="math notranslate nohighlight">\(\beta\)</span> alter <span class="math notranslate nohighlight">\(\theta_\infty^R\)</span>
and <span class="math notranslate nohighlight">\(\theta_0^R\)</span> but neither <span class="math notranslate nohighlight">\(\theta^*, \theta^{CR}\)</span>, nor <span class="math notranslate nohighlight">\(\theta^{MPE}\)</span>, in accord with formulas
<a class="reference internal" href="#equation-eq-friedmantheta">(42.8)</a>,  <a class="reference internal" href="#equation-eq-muramseyconstrained">(42.26)</a>, and <a class="reference internal" href="#equation-eq-markovperfectmu">(42.31)</a>, which imply that</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
\theta^{CR} &amp; = - \frac{\alpha u_1}{\alpha^2 u_2 + c } \\
\theta^{MPE} &amp;  = - \frac{\alpha u_1}{\alpha^2 u_2 + (1+\alpha)c} \\
\theta^{*} &amp;  = -\frac{u_1}{u_2 \alpha}
\end{aligned}
\end{split}\]</div>
<p>But let’s see what happens when we change <span class="math notranslate nohighlight">\(c\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Increase c to 100</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">c_values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">]</span>

<span class="n">clqs</span> <span class="o">=</span> <span class="p">[</span><span class="n">ChangLQ</span><span class="p">(</span><span class="n">β</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">c_values</span><span class="p">]</span>
<span class="n">plt_clqs</span><span class="p">(</span><span class="n">clqs</span><span class="p">,</span> <span class="n">axes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/db5451b855fa9c8398dd79d0f6d8708942315d0497d5bab6ad0d5219ddcfc647.png" src="_images/db5451b855fa9c8398dd79d0f6d8708942315d0497d5bab6ad0d5219ddcfc647.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">generate_table</span><span class="p">(</span><span class="n">clqs</span><span class="p">,</span> <span class="n">dig</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle 
    \begin{array}{cccc}
    &amp; \text{$\beta=0.85, c=1$} &amp; \text{$\beta=0.85, c=10$} &amp; \text{$\beta=0.85, c=100$} \\
    \hline
    \text{$\theta^*$} &amp; -0.167 &amp; -0.167 &amp; -0.167 \\
\text{$\theta_\infty^R$} &amp; -0.131 &amp; -0.044 &amp; -0.006 \\
\text{$\theta^{CR}$} &amp; -0.125 &amp; -0.038 &amp; -0.005 \\
\text{$\theta_0^R$} &amp; -0.107 &amp; -0.028 &amp; -0.003 \\
\text{$\theta^{MPE}$} &amp; -0.100 &amp; -0.022 &amp; -0.003
    \end{array}
    \end{split}\]</div>
</div>
</div>
<p>The above table and figures show how
changes in <span class="math notranslate nohighlight">\(c\)</span> alter <span class="math notranslate nohighlight">\(\theta_\infty^R\)</span>
and <span class="math notranslate nohighlight">\(\theta_0^R\)</span> as well as  <span class="math notranslate nohighlight">\(\theta^{CR}\)</span> and  <span class="math notranslate nohighlight">\(\theta^{MPE}\)</span>, but not
<span class="math notranslate nohighlight">\(\theta^*,\)</span> again  in accord with formulas
<a class="reference internal" href="#equation-eq-friedmantheta">(42.8)</a>,  <a class="reference internal" href="#equation-eq-muramseyconstrained">(42.26)</a>, and <a class="reference internal" href="#equation-eq-markovperfectmu">(42.31)</a>.</p>
<p>Notice that as <span class="math notranslate nohighlight">\(c \)</span> gets larger and larger,   <span class="math notranslate nohighlight">\(\theta_\infty^R, \theta_0^R\)</span>
and <span class="math notranslate nohighlight">\(\theta^{CR}\)</span> all converge to <span class="math notranslate nohighlight">\(\theta^{MPE}\)</span>.</p>
<p>Now let’s watch what happens when we drive <span class="math notranslate nohighlight">\(c\)</span> toward zero.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Decrease c towards 0</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">c_limits</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">]</span>

<span class="n">clqs</span> <span class="o">=</span> <span class="p">[</span><span class="n">ChangLQ</span><span class="p">(</span><span class="n">β</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">c_limits</span><span class="p">]</span>
<span class="n">plt_clqs</span><span class="p">(</span><span class="n">clqs</span><span class="p">,</span> <span class="n">axes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ddeba7be75c09d92a2e22151c29dd0616c11b3d98d9b05d3b9cdc5bd19158365.png" src="_images/ddeba7be75c09d92a2e22151c29dd0616c11b3d98d9b05d3b9cdc5bd19158365.png" />
</div>
</div>
<p>The above graphs indicate that as <span class="math notranslate nohighlight">\(c\)</span> approaches zero, <span class="math notranslate nohighlight">\(\theta_\infty^R, \theta_0^R, \theta^{CR}\)</span>,
and <span class="math notranslate nohighlight">\(\theta^{MPE}\)</span> all approach <span class="math notranslate nohighlight">\(\theta^*\)</span>.</p>
<p>This makes sense, because it was by adding costs of distorting taxes that Calvo <span id="id23">[<a class="reference internal" href="zreferences.html#id140" title="Guillermo A. Calvo. On the time consistency of optimal policy in a monetary economy. Econometrica, 46(6):1411-1428, 1978.">Calvo, 1978</a>]</span> drove a wedge between Friedman’s optimal deflation rate and the inflation rates chosen by a Ramsey planner.</p>
<p>The following code  plots sequences  <span class="math notranslate nohighlight">\(\vec \mu\)</span> and <span class="math notranslate nohighlight">\(\vec \theta\)</span> prescribed by a Ramsey plan as well as the constant levels <span class="math notranslate nohighlight">\(\mu^{CR}\)</span> and <span class="math notranslate nohighlight">\(\mu^{MPE}\)</span>.</p>
<p>The following graphs report values for the value function parameters <span class="math notranslate nohighlight">\(g_0, g_1, g_2\)</span>,
and the Ramsey policy function parameters <span class="math notranslate nohighlight">\(b_0, b_1, d_0, d_1\)</span> associated with the indicated
parameter pair <span class="math notranslate nohighlight">\(\beta, c\)</span>.</p>
<p>We’ll vary <span class="math notranslate nohighlight">\(\beta\)</span> while keeping a small <span class="math notranslate nohighlight">\(c\)</span>.</p>
<p>After that we’ll study consequences of raising <span class="math notranslate nohighlight">\(c\)</span>.</p>
<p>We’ll watch how the decay rate <span class="math notranslate nohighlight">\(d_1\)</span> governing the dynamics of <span class="math notranslate nohighlight">\(\theta_t^R\)</span> is affected by alterations in the parameters <span class="math notranslate nohighlight">\(\beta, c\)</span>.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_ramsey_MPE</span><span class="p">(</span><span class="n">clq</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mi">15</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method to plot Ramsey plan against Markov Perfect Equilibrium</span>

<span class="sd">    Here clq is an instance of ChangLQ</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

    <span class="n">plots</span> <span class="o">=</span> <span class="p">[</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_series</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="n">T</span><span class="p">],</span> <span class="n">clq</span><span class="o">.</span><span class="n">μ_series</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">T</span><span class="p">]]</span>
    <span class="n">MPEs</span> <span class="o">=</span> <span class="p">[</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_MPE</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">μ_MPE</span><span class="p">]</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="sa">r</span><span class="s2">&quot;\theta&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;\mu&quot;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">plot</span><span class="p">,</span> <span class="n">MPE</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">plots</span><span class="p">,</span> <span class="n">MPEs</span><span class="p">,</span> <span class="n">labels</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">fr</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">^R$&quot;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">MPE</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">T</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">fr</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">^</span><span class="se">{{</span><span class="s2">MPE</span><span class="se">}}</span><span class="s2">$&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">label</span> <span class="o">==</span> <span class="sa">r</span><span class="s2">&quot;\theta&quot;</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">θ_B</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">T</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;$\theta^*$&quot;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">clq</span><span class="o">.</span><span class="n">μ_CR</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">T</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">fr</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">^</span><span class="se">{{</span><span class="s2">CR</span><span class="se">}}</span><span class="s2">$&quot;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$t$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">fr</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">_t$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">)</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">fr</span><span class="s1">&#39;$\beta$=</span><span class="si">{</span><span class="n">clq</span><span class="o">.</span><span class="n">β</span><span class="si">}</span><span class="s1">, $c$=</span><span class="si">{</span><span class="n">clq</span><span class="o">.</span><span class="n">c</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">generate_param_table</span><span class="p">(</span><span class="n">clq</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method to generate a table of parameters</span>

<span class="sd">    Here clq is an instance of ChangLQ</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Collect data</span>
    <span class="n">param_names</span> <span class="o">=</span> <span class="p">[</span><span class="sa">r</span><span class="s1">&#39;$g_0$&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;$g_1$&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;$g_2$&#39;</span><span class="p">,</span> 
                   <span class="sa">r</span><span class="s1">&#39;$b_0$&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;$b_1$&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;$d_0$&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;$d_1$&#39;</span><span class="p">]</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="n">clq</span><span class="o">.</span><span class="n">g0</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">g1</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">g2</span><span class="p">,</span> 
              <span class="n">clq</span><span class="o">.</span><span class="n">b0</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">b1</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">d0</span><span class="p">,</span> <span class="n">clq</span><span class="o">.</span><span class="n">d1</span><span class="p">]</span>

    <span class="c1"># Generate table</span>
    <span class="n">label</span> <span class="o">=</span> <span class="sa">rf</span><span class="s1">&#39;$\beta=</span><span class="si">{</span><span class="n">clq</span><span class="o">.</span><span class="n">β</span><span class="si">}</span><span class="s1">, c=</span><span class="si">{</span><span class="n">clq</span><span class="o">.</span><span class="n">c</span><span class="si">}</span><span class="s1">$&#39;</span>
    <span class="n">data_frame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="n">label</span><span class="p">:</span> <span class="n">params</span><span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="n">param_names</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>

    <span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39; &amp; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">text</span><span class="se">{{</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="se">}}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">data_frame</span><span class="o">.</span><span class="n">columns</span><span class="p">])</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="s1">&#39; </span><span class="se">\\\\\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39; &amp; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">text</span><span class="se">{{</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="se">}}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">val</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">row</span><span class="p">])</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data_frame</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()])</span>
    
    <span class="n">latex_code</span> <span class="o">=</span> <span class="sa">rf</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    \begin</span><span class="se">{{</span><span class="s2">array</span><span class="se">}}{{</span><span class="si">{</span><span class="s1">&#39;c&#39;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_frame</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="se">}}</span>
<span class="s2">    &amp; </span><span class="si">{</span><span class="n">columns</span><span class="si">}</span><span class="s2"> \\</span>
<span class="s2">    \hline</span>
<span class="s2">    </span><span class="si">{</span><span class="n">rows</span><span class="si">}</span>
<span class="s2">    \end</span><span class="se">{{</span><span class="s2">array</span><span class="se">}}</span>
<span class="s2">    &quot;&quot;&quot;</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">latex_code</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">β</span> <span class="ow">in</span> <span class="n">β_values</span><span class="p">:</span>
    <span class="n">clq</span> <span class="o">=</span> <span class="n">ChangLQ</span><span class="p">(</span><span class="n">β</span><span class="o">=</span><span class="n">β</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">generate_param_table</span><span class="p">(</span><span class="n">clq</span><span class="p">)</span>
    <span class="n">plot_ramsey_MPE</span><span class="p">(</span><span class="n">clq</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle 
    \begin{array}{cccccccc}
    &amp; \text{$g_0$} &amp; \text{$g_1$} &amp; \text{$g_2$} &amp; \text{$b_0$} &amp; \text{$b_1$} &amp; \text{$d_0$} &amp; \text{$d_1$} \\
    \hline
    \text{$\beta=0.7, c=2$} &amp; 3.39 &amp; -0.75 &amp; -4.54 &amp; -0.06 &amp; -1.52 &amp; -0.06 &amp; 0.48
    \end{array}
    \end{split}\]</div>
<img alt="_images/577973641b911c3502157ed6405d8d99f8a42bc0bf46ec5d2865be66650d10fe.png" src="_images/577973641b911c3502157ed6405d8d99f8a42bc0bf46ec5d2865be66650d10fe.png" />
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle 
    \begin{array}{cccccccc}
    &amp; \text{$g_0$} &amp; \text{$g_1$} &amp; \text{$g_2$} &amp; \text{$b_0$} &amp; \text{$b_1$} &amp; \text{$d_0$} &amp; \text{$d_1$} \\
    \hline
    \text{$\beta=0.8, c=2$} &amp; 5.1 &amp; -0.76 &amp; -4.65 &amp; -0.06 &amp; -1.58 &amp; -0.06 &amp; 0.42
    \end{array}
    \end{split}\]</div>
<img alt="_images/0379a4da55825adbc12fdfbd056cec7fffa7c1395664784a68a3152400ae28e2.png" src="_images/0379a4da55825adbc12fdfbd056cec7fffa7c1395664784a68a3152400ae28e2.png" />
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle 
    \begin{array}{cccccccc}
    &amp; \text{$g_0$} &amp; \text{$g_1$} &amp; \text{$g_2$} &amp; \text{$b_0$} &amp; \text{$b_1$} &amp; \text{$d_0$} &amp; \text{$d_1$} \\
    \hline
    \text{$\beta=0.99, c=2$} &amp; 102.47 &amp; -0.76 &amp; -4.81 &amp; -0.07 &amp; -1.65 &amp; -0.07 &amp; 0.35
    \end{array}
    \end{split}\]</div>
<img alt="_images/242396dce0a867e8847676bebaea59375ab59ae2b4409c0b84040529cc6412e9.png" src="_images/242396dce0a867e8847676bebaea59375ab59ae2b4409c0b84040529cc6412e9.png" />
</div>
</div>
<p>Notice how <span class="math notranslate nohighlight">\(d_1\)</span> changes as we raise the discount factor parameter <span class="math notranslate nohighlight">\(\beta\)</span>.</p>
<p>Now let’s study how increasing <span class="math notranslate nohighlight">\(c\)</span> affects <span class="math notranslate nohighlight">\(\vec \theta, \vec \mu\)</span> outcomes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Increase c to 100</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">c_values</span><span class="p">:</span>
    <span class="n">clq</span> <span class="o">=</span> <span class="n">ChangLQ</span><span class="p">(</span><span class="n">β</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
    <span class="n">generate_param_table</span><span class="p">(</span><span class="n">clq</span><span class="p">)</span>
    <span class="n">plot_ramsey_MPE</span><span class="p">(</span><span class="n">clq</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle 
    \begin{array}{cccccccc}
    &amp; \text{$g_0$} &amp; \text{$g_1$} &amp; \text{$g_2$} &amp; \text{$b_0$} &amp; \text{$b_1$} &amp; \text{$d_0$} &amp; \text{$d_1$} \\
    \hline
    \text{$\beta=0.85, c=1$} &amp; 6.84 &amp; -0.68 &amp; -3.19 &amp; -0.09 &amp; -1.69 &amp; -0.09 &amp; 0.31
    \end{array}
    \end{split}\]</div>
<img alt="_images/8904591562597e73a2721b5a34c499b5ab3c3ca2942b273b96c4883d3fcf7ff5.png" src="_images/8904591562597e73a2721b5a34c499b5ab3c3ca2942b273b96c4883d3fcf7ff5.png" />
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle 
    \begin{array}{cccccccc}
    &amp; \text{$g_0$} &amp; \text{$g_1$} &amp; \text{$g_2$} &amp; \text{$b_0$} &amp; \text{$b_1$} &amp; \text{$d_0$} &amp; \text{$d_1$} \\
    \hline
    \text{$\beta=0.85, c=10$} &amp; 6.72 &amp; -0.92 &amp; -16.16 &amp; -0.02 &amp; -1.47 &amp; -0.02 &amp; 0.53
    \end{array}
    \end{split}\]</div>
<img alt="_images/7fb469b87ca9b95c3cea09fdb74385b04d781fedb921719382602d327cd1c3fe.png" src="_images/7fb469b87ca9b95c3cea09fdb74385b04d781fedb921719382602d327cd1c3fe.png" />
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle 
    \begin{array}{cccccccc}
    &amp; \text{$g_0$} &amp; \text{$g_1$} &amp; \text{$g_2$} &amp; \text{$b_0$} &amp; \text{$b_1$} &amp; \text{$d_0$} &amp; \text{$d_1$} \\
    \hline
    \text{$\beta=0.85, c=100$} &amp; 6.67 &amp; -0.99 &amp; -143.29 &amp; -0.0 &amp; -1.42 &amp; -0.0 &amp; 0.58
    \end{array}
    \end{split}\]</div>
<img alt="_images/3703953e40f16553c7a69bdc2cdec0ce21c9092042501bc872707757d4ba33a4.png" src="_images/3703953e40f16553c7a69bdc2cdec0ce21c9092042501bc872707757d4ba33a4.png" />
</div>
</div>
<p>Evidently, increasing <span class="math notranslate nohighlight">\(c\)</span> causes the decay factor <span class="math notranslate nohighlight">\(d_1\)</span> to increase.</p>
<p>Next, let’s look at consequences of increasing the demand for real balances parameter
<span class="math notranslate nohighlight">\(\alpha\)</span> from its default value  <span class="math notranslate nohighlight">\(\alpha=1\)</span> to <span class="math notranslate nohighlight">\(\alpha=4\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Increase c to 100</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">]:</span>
    <span class="n">clq</span> <span class="o">=</span> <span class="n">ChangLQ</span><span class="p">(</span><span class="n">α</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">β</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
    <span class="n">generate_param_table</span><span class="p">(</span><span class="n">clq</span><span class="p">)</span>
    <span class="n">plot_ramsey_MPE</span><span class="p">(</span><span class="n">clq</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle 
    \begin{array}{cccccccc}
    &amp; \text{$g_0$} &amp; \text{$g_1$} &amp; \text{$g_2$} &amp; \text{$b_0$} &amp; \text{$b_1$} &amp; \text{$d_0$} &amp; \text{$d_1$} \\
    \hline
    \text{$\beta=0.85, c=10$} &amp; 6.84 &amp; -4.62 &amp; -82.32 &amp; -0.05 &amp; -2.33 &amp; -0.01 &amp; 0.67
    \end{array}
    \end{split}\]</div>
<img alt="_images/0208c7e0713fd1b094fdcca27199163f73ad16794ba227fb627f722daed8c7de.png" src="_images/0208c7e0713fd1b094fdcca27199163f73ad16794ba227fb627f722daed8c7de.png" />
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle 
    \begin{array}{cccccccc}
    &amp; \text{$g_0$} &amp; \text{$g_1$} &amp; \text{$g_2$} &amp; \text{$b_0$} &amp; \text{$b_1$} &amp; \text{$d_0$} &amp; \text{$d_1$} \\
    \hline
    \text{$\beta=0.85, c=100$} &amp; 6.74 &amp; -8.03 &amp; -390.65 &amp; -0.01 &amp; -1.47 &amp; -0.0 &amp; 0.88
    \end{array}
    \end{split}\]</div>
<img alt="_images/2a74e28ca8f69f626cb26613624426d8b8d4fd531db8028cd57e455aded7b4c3.png" src="_images/2a74e28ca8f69f626cb26613624426d8b8d4fd531db8028cd57e455aded7b4c3.png" />
</div>
</div>
<p>The above panels for an <span class="math notranslate nohighlight">\(\alpha = 4\)</span> setting indicate that <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(c\)</span> affect outcomes
in interesting ways.</p>
<p>We leave it to the reader to explore consequences of other constellations of parameter values.</p>
<section id="time-inconsistency-of-ramsey-plan">
<h3><span class="section-number">42.15.1. </span>Time Inconsistency of Ramsey Plan<a class="headerlink" href="#time-inconsistency-of-ramsey-plan" title="Permalink to this heading">#</a></h3>
<p>The variation over time in <span class="math notranslate nohighlight">\(\vec \mu\)</span> chosen by the Ramsey planner
is a symptom of time inconsistency.</p>
<ul class="simple">
<li><p>The Ramsey planner reaps immediate benefits from promising lower
inflation later to be achieved by costly distorting taxes.</p></li>
<li><p>These benefits are intermediated by reductions in expected inflation
that precede the  reductions in money creation rates that rationalize them, as indicated by
equation <a class="reference internal" href="#equation-eq-old3">(42.3)</a>.</p></li>
<li><p>A government authority offered the opportunity to ignore effects on
past utilities and to reoptimize at date <span class="math notranslate nohighlight">\(t \geq 1\)</span> would, if allowed, want
to deviate from a Ramsey plan.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A constrained-to-constant-<span class="math notranslate nohighlight">\(\mu\)</span>  Ramsey plan  is  time consistent by construction. So is a Markov perfect plan.</p>
</div>
</section>
<section id="implausibility-of-ramsey-plan">
<h3><span class="section-number">42.15.2. </span>Implausibility of Ramsey Plan<a class="headerlink" href="#implausibility-of-ramsey-plan" title="Permalink to this heading">#</a></h3>
<p>Many economists regard a time inconsistent plan as implausible because they question the plausibility of  timing protocol in
which a plan for setting a sequence of policy variables is chosen once-and-for-all at time <span class="math notranslate nohighlight">\(0\)</span>.</p>
<p>For that reason, the Markov perfect equilibrium concept attracts many
economists.</p>
<ul class="simple">
<li><p>A Markov perfect equilibrium plan is constructed to insure that a sequence of  government policymakers who choose sequentially do not want to deviate from it.</p></li>
</ul>
<p>The  property of a Markov perfect equilibrium that there is <em>no incentive to deviate from the plan</em>   makes it  attractive.</p>
</section>
</section>
<section id="comparison-of-equilibrium-values">
<h2><span class="section-number">42.16. </span>Comparison of Equilibrium Values<a class="headerlink" href="#comparison-of-equilibrium-values" title="Permalink to this heading">#</a></h2>
<p>We have computed plans for</p>
<ul class="simple">
<li><p>an ordinary (unrestricted) Ramsey planner who chooses a sequence
<span class="math notranslate nohighlight">\(\{\mu_t\}_{t=0}^\infty\)</span> at time <span class="math notranslate nohighlight">\(0\)</span></p></li>
<li><p>a Ramsey planner restricted to choose a constant <span class="math notranslate nohighlight">\(\mu\)</span> for all
<span class="math notranslate nohighlight">\(t \geq 0\)</span></p></li>
<li><p>a Markov perfect sequence of governments</p></li>
</ul>
<p>Below we compare equilibrium time zero values for these three.</p>
<p>We confirm that the value delivered by the unrestricted Ramsey planner
exceeds the value delivered by the restricted Ramsey planner which in
turn exceeds the value delivered by the Markov perfect sequence of
governments.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">clq</span><span class="o">.</span><span class="n">J_series</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6.776447396127581
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">clq</span><span class="o">.</span><span class="n">J_CR</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6.756756756756755
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">clq</span><span class="o">.</span><span class="n">J_MPE</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6.70875734810947
</pre></div>
</div>
</div>
</div>
</section>
<section id="digression-on-timeless-perspective">
<h2><span class="section-number">42.17. </span>Digression on Timeless Perspective<a class="headerlink" href="#digression-on-timeless-perspective" title="Permalink to this heading">#</a></h2>
<p>Our calculations have confirmed that  <span class="math notranslate nohighlight">\( \vec \mu^R, \vec \theta^R, \vec v^R \)</span> are each monotone sequences that are bounded below and converge from above  to limiting values.</p>
<p>Some authors are fond of focusing only on these limiting values.</p>
<p>They justify that by saying that they are taking a <strong>timeless perspective</strong> that ignores  the transient movements in <span class="math notranslate nohighlight">\( \vec \mu^R, \vec \theta^R, \vec v^R \)</span> that are destined  eventually to fade away as <span class="math notranslate nohighlight">\(\theta_t\)</span> described by Ramsey plan system <a class="reference internal" href="#equation-eq-old9">(42.21)</a> converges from above.</p>
<ul class="simple">
<li><p>the timeless perspective pretends that  Ramsey plan was actually solved long ago, and that we are stuck with it.</p></li>
</ul>
<section id="ramsey-plan-strikes-back">
<h3><span class="section-number">42.17.1. </span>Ramsey Plan Strikes Back<a class="headerlink" href="#ramsey-plan-strikes-back" title="Permalink to this heading">#</a></h3>
<p>Research by Abreu <span id="id24">[<a class="reference internal" href="zreferences.html#id75" title="Dilip Abreu. On the theory of infinitely repeated games with discounting. Econometrica, 56:383–396, 1988.">Abreu, 1988</a>]</span>,  Chari and Kehoe <span id="id25">[<a class="reference internal" href="zreferences.html#id217" title="Varadarajan V Chari and Patrick J Kehoe. Sustainable plans. Journal of Political Economy, pages 783–802, 1990.">Chari and Kehoe, 1990</a>]</span>
<span id="id26">[<a class="reference internal" href="zreferences.html#id224" title="Nancy L Stokey. Reputation and time consistency. The American Economic Review, pages 134–139, 1989.">Stokey, 1989</a>]</span>, and Stokey <span id="id27">[<a class="reference internal" href="zreferences.html#id76" title="Nancy L. Stokey. Credible public policy. Journal of Economic Dynamics and Control, 15(4):627-656, October 1991.">Stokey, 1991</a>]</span> discovered conditions under which a Ramsey plan can be rescued from the complaint that it is not credible.</p>
<p>They  accomplished this by expanding the
description of a plan to include expectations about <em>adverse consequences</em> of deviating from
it that can serve to deter deviations.</p>
<p>We turn to such theories in this  quantecon lecture <a class="reference internal" href="calvo_abreu.html"><span class="doc">Sustainable Plans for a Calvo Model</span></a>.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                    </div>
                    
                </main> <!-- .page__content -->
                


                <footer class="qe-page__footer">

                    <p><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="https://licensebuttons.net/l/by-sa/4.0/80x15.png"></a></p>

                    <p>Creative Commons License &ndash; This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International.</p>

                </footer> <!-- .page__footer -->

            </div> <!-- .page -->

            

            
            <div class="qe-sidebar bd-sidebar inactive" id="site-navigation">

                <div class="qe-sidebar__header">


                    Contents

                </div>

                <nav class="qe-sidebar__nav" id="qe-sidebar-nav" aria-label="Main navigation">
                    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tools and Techniques
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="orth_proj.html">
   1. Orthogonal Projections and Their Applications
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="stationary_densities.html">
   2. Continuous State Markov Chains
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="muth_kalman.html">
   3. Reverse Engineering a la Muth
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="discrete_dp.html">
   4. Discrete State Dynamic Programming
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  LQ Control
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="cons_news.html">
   5. Information and Consumption Smoothing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="smoothing.html">
   6. Consumption Smoothing with Complete and Incomplete Markets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="smoothing_tax.html">
   7. Tax Smoothing with Complete and Incomplete Markets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="markov_jump_lq.html">
   8. Markov Jump Linear Quadratic Dynamic Programming
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tax_smoothing_1.html">
   9. How to Pay for a War: Part 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tax_smoothing_2.html">
   10. How to Pay for a War: Part 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tax_smoothing_3.html">
   11. How to Pay for a War: Part 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lqramsey.html">
   12. Optimal Taxation in an LQ Economy
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Multiple Agent Models
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="arellano.html">
   13. Default Risk and Income Fluctuations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="matsuyama.html">
   14. Globalization and Cycles
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="coase.html">
   15. Coase’s Theory of the Firm
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Dynamic Linear Economies
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="hs_recursive_models.html">
   16. Recursive Models of Dynamic Linear Economies
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="growth_in_dles.html">
   17. Growth in Dynamic Linear Economies
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lucas_asset_pricing_dles.html">
   18. Lucas Asset Pricing Using DLE
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="irfs_in_hall_model.html">
   19. IRFs in Hall Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="permanent_income_dles.html">
   20. Permanent Income Model using the DLE Class
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rosen_schooling_model.html">
   21. Rosen Schooling Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cattle_cycles.html">
   22. Cattle Cycles
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="hs_invertibility_example.html">
   23. Shock Non Invertibility
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Risk, Model Uncertainty, and Robustness
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="five_preferences.html">
   24. Risk and Model Uncertainty
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="entropy.html">
   25. Etymology of Entropy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="robustness.html">
   26. Robustness
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rob_markov_perf.html">
   27. Robust Markov Perfect Equilibrium
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Time Series Models
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="arma.html">
   28. Covariance Stationary Processes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="estspec.html">
   29. Estimation of Spectra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="additive_functionals.html">
   30. Additive and Multiplicative Functionals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lu_tricks.html">
   31. Classical Control with Linear Algebra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="classical_filtering.html">
   32. Classical Prediction and Filtering With Linear Algebra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="knowing_forecasts_of_others.html">
   33. Knowing the Forecasts of Others
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Asset Pricing and Finance
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="lucas_model.html">
   34. Asset Pricing II: The Lucas Asset Pricing Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="asset_pricing_lph.html">
   35. Elementary Asset Pricing Theory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="black_litterman.html">
   36. Two Modifications of Mean-Variance Portfolio Theory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="BCG_complete_mkts.html">
   37. Irrelevance of Capital Structures with Complete Markets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="BCG_incomplete_mkts.html">
   38. Equilibrium Capital Structures with Incomplete Markets
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Dynamic Programming Squared
 </span>
</p>
<ul class="current nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="un_insure.html">
   39. Optimal Unemployment Insurance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dyn_stack.html">
   40. Stackelberg Plans
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="calvo_machine_learn.html">
   41. Machine Learning a Ramsey Plan
  </a>
 </li>
 <li class="toctree-l1 current active active">
  <a class="current reference internal" href="#">
   42. Time Inconsistency of Ramsey Plans
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="calvo_abreu.html">
   43. Sustainable Plans for a Calvo Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="opt_tax_recur.html">
   44. Optimal Taxation with State-Contingent Debt
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="amss.html">
   45. Optimal Taxation without State-Contingent Debt
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="amss2.html">
   46. Fluctuating Interest Rates Deliver Fiscal Insurance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="amss3.html">
   47. Fiscal Risk and Government Debt
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chang_ramsey.html">
   48. Competitive Equilibria of a Model of Chang
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chang_credible.html">
   49. Credible Government Policies in a Model of Chang
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Other
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="troubleshooting.html">
   50. Troubleshooting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="zreferences.html">
   51. References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="status.html">
   52. Execution Statistics
  </a>
 </li>
</ul>

                </nav>

                <div class="qe-sidebar__footer">

                </div>

            </div> <!-- .sidebar -->
            
        </div> <!-- .main -->

        <div class="qe-toolbar">

            <div class="qe-toolbar__inner">

                <ul class="qe-toolbar__main">
                    <li data-tippy-content="Table of Contents" class="btn__sidebar"><i data-feather="menu"></i></li>
                    <li data-tippy-content="Home"><a href="intro.html"><i data-feather="home"></i></a></li>
                    <li class="btn__qelogo"><a href="https://quantecon.org" title=""><span class="show-for-sr">QuantEcon</span></a></li>
                </ul>

                <ul class="qe-toolbar__links">
                    <li class="btn__search">
                        <form action="search.html" method="get">
                            <input type="search" class="form-control" name="q" id="search-input" placeholder="Search..." aria-label="Search..." autocomplete="off" accesskey="k">
                            <i data-feather="search" id="search-icon"></i>
                        </form>
                    </li>
                    <li data-tippy-content="Fullscreen" class="btn__fullscreen"><i data-feather="maximize"></i></li>
                    <li data-tippy-content="Increase font size" class="btn__plus"><i data-feather="plus-circle"></i></li>
                    <li data-tippy-content="Decrease font size" class="btn__minus"><i data-feather="minus-circle"></i></li>
                    <li data-tippy-content="Change contrast" class="btn__contrast"><i data-feather="sunset"></i></li>
                    <li data-tippy-content="Download Notebook"><a href="/_notebooks/calvo.ipynb" download><i data-feather="download-cloud"></i></a></li>
                    <li class="settings-button" id="settingsButton"><div data-tippy-content="Launch Notebook"><i data-feather="play-circle"></i></div></li>
                        <li class="download-pdf" id="downloadButton"><i data-feather="file"></i></li>
                    <!--
                    # Enable if looking for link to specific document hosted on GitHub
                    <li data-tippy-content="View Source"><a target="_blank" href="https://github.com/QuantEcon/lecture-python-advanced.myst/blob/main/lectures/calvo.md" download><i data-feather="github"></i></a></li>
                    -->
                    <li data-tippy-content="View Source"><a target="_blank" href="https://github.com/QuantEcon/lecture-python-advanced.myst" download><i data-feather="github"></i></a></li>
                </ul>

            </div>

        </div> <!-- .toolbar -->
        <div id="downloadPDFModal" style="display: none;">
            <ul class="pdf-options" style="display: block;">
                <li class="download-pdf-book" onClick="window.print()">
                    <p>Lecture (PDF)</p>
                </li>
                <li class="download-pdf-file">
                    <a href="/_pdf/quantecon-python-advanced.pdf" download><p>Book (PDF)</p></a>
                </li>
            </ul>
        </div>
        <div id="settingsModal" style="display: none;">
            <p class="modal-title"> Notebook Launcher </p>
            <div class="modal-desc">
            <p>
                Choose public or private cloud service for "Launch" button.
            </p>
            </div>
            <p class="modal-subtitle">Select a server</p>
            <ul class="modal-servers">
            <li class="active launcher-public">
                <span class="label">Public</span>
                <select id="launcher-public-input">
                
                    <option value="https://colab.research.google.com/github/QuantEcon/lecture-python-advanced.notebooks/blob/main/calvo.ipynb">Colab</option>
                
                </select>
                <i class="fas fa-check-circle"></i>
            </li>
            <li class="launcher-private">
                <span class="label">Private</span>
                <input type="text" id="launcher-private-input" data-repourl="https://github.com/QuantEcon/lecture-python-advanced.notebooks" data-urlpath="tree/lecture-python-advanced.notebooks/calvo.ipynb" data-branch=main>
                <i class="fas fa-check-circle"></i>
            </li>
            </ul>
            <p class="launch"><a href="https://colab.research.google.com/github/QuantEcon/lecture-python-advanced.notebooks/blob/main/calvo.ipynb" id="advancedLaunchButton" target="_blank">Launch Notebook</a></p>
            <script>
                // QuantEcon Notebook Launcher
                const launcherTypeElements = document.querySelectorAll('#settingsModal .modal-servers li');
                // Highlight the server type if previous selection exists
                if (typeof localStorage.launcherType !== 'undefined') {
                  for (var i = 0; i < launcherTypeElements.length; i++) {
                    launcherTypeElements[i].classList.remove('active');
                    if ( launcherTypeElements[i].classList.contains(localStorage.launcherType) ) {
                      launcherTypeElements[i].classList.add('active');
                    }
                  }
                }
                // Highlight server type on click and set local storage value
                for (var i = 0; i < launcherTypeElements.length; i++) {
                  launcherTypeElements[i].addEventListener('click', function() {
                    for (var j = 0; j < launcherTypeElements.length; j++) {
                      launcherTypeElements[j].classList.remove('active');
                    }
                    this.classList.add('active');
                    if ( this.classList.contains('launcher-private') ) {
                      localStorage.launcherType = 'launcher-private';
                    } else if ( this.classList.contains('launcher-public') ) {
                      localStorage.launcherType = 'launcher-public';
                    }
                    setLaunchServer();
                  })
                }
                const launcherPublic = document.getElementById('launcher-public-input');
                const launcherPrivate = document.getElementById('launcher-private-input');
                const pageName = "calvo";
                const repoURL = "https://github.com/QuantEcon/lecture-python-advanced.notebooks";
                const urlPath = "tree/lecture-python-advanced.notebooks/calvo.ipynb";
                const branch = "main"
                const launchNotebookLink = document.getElementById('advancedLaunchButton');

                // Highlight public server option if previous selection exists
                if (typeof localStorage.launcherPublic !== 'undefined') {
                  launcherPublic.value = localStorage.launcherPublic;
                }
                // Update local storage upon public server selection
                launcherPublic.addEventListener('change', (event) => {
                  setLaunchServer();
                });
                // Populate private server input if previous entry exists
                if (typeof localStorage.launcherPrivate !== 'undefined') {
                  launcherPrivate.value = localStorage.launcherPrivate;
                }
                // Update local storage when a private server is entered
                launcherPrivate.addEventListener('input', (event) => {
                  setLaunchServer();
                });

                // Function to update the "Launch Notebook" link href
                function setLaunchServer() {
                  launchNotebookLink.removeAttribute("style")
                  if ( localStorage.launcherType == 'launcher-private' ) {
                    let repoPrefix = "/jupyter/hub/user-redirect/git-pull?repo=" + repoURL + "&branch=" + branch + "&urlpath=" + urlPath;
                    launcherPrivateValue = launcherPrivate.value
                    if (!launcherPrivateValue) {
                        launchNotebookLink.removeAttribute("href")
                        launchNotebookLink.style.background = "grey"
                        return
                    }
                    localStorage.launcherPrivate = launcherPrivateValue;
                    privateServer = localStorage.launcherPrivate.replace(/\/$/, "")
                    if (!privateServer.includes("http")) {
                        privateServer = "http://" + privateServer
                    }
                    launchNotebookLinkURL = privateServer + repoPrefix;
                  } else if ( localStorage.launcherType == 'launcher-public' ) {
                    launcherPublicValue = launcherPublic.options[launcherPublic.selectedIndex].value;
                    localStorage.launcherPublic = launcherPublicValue;
                    launchNotebookLinkURL = localStorage.launcherPublic;
                  }
                  if (launchNotebookLinkURL) launchNotebookLink.href = launchNotebookLinkURL;
                }
                // Check if user has previously selected a server
                if ( (typeof localStorage.launcherPrivate !== 'undefined') || (typeof localStorage.launcherPublic !== 'undefined') ) {
                  setLaunchServer();
                }
                </script>

        </div>

    </div> <!-- .wrapper-->
  </body>
</html>